{"version":3,"sources":["components/InteractiveBarChart/Block/index.module.css","components/InteractiveBarChart/DatasetBlock/index.module.css","components/InteractiveBarChart/MainDisplay/index.module.css","components/InteractiveBarChart/CustomDragLayer/index.module.css","app.module.css","components/InteractiveBarChart/Bar/index.module.css","components/InteractiveBarChart/index.module.css","components/InteractiveBarChart/config.js","constants.js","components/InteractiveBarChart/Block/index.js","utils.js","static-assets/icons/migration.svg","components/InteractiveBarChart/DatasetBlock/index.js","static-assets/icons/virus.svg","static-assets/icons/energy-produce.svg","static-assets/icons/age-groups.svg","config.js","components/InteractiveBarChart/Context/index.js","components/InteractiveBarChart/Bar/index.js","components/InteractiveBarChart/CustomDragLayer/index.js","static-assets/icons/circle-check-mark.svg","static-assets/icons/chevron-up.svg","static-assets/icons/chevron-down.svg","components/InteractiveBarChart/InteractiveBars/index.js","components/InteractiveBarChart/MainDisplay/index.js","components/InteractiveBarChart/index.js","hooks/useDimensions.js","hooks/useWindowWidth.js","App.js","reportWebVitals.js","index.js","components/InteractiveBarChart/InteractiveBars/index.module.css"],"names":["module","exports","blocksDndType","datasetDndType","EMPTY_DATASET","data","label","getXStretch","barWidth","getYStretch","Placeholder","wrapSvg","width","xStretch","yStretch","content","className","cn","placeholder","d","shapeRendering","height","svgWrapper","StaticBlock","React","forwardRef","ref","disableHover","scaleX","size","yShift","isTop","bandwidth","BLOCK_PADDING","transform","style","cursor","bar","rightSide","top","padding","Block","onDrag","onFailedDrop","useDrag","collect","monitor","anythingIsDragging","getItem","type","item","items","blocks","end","didDrop","collected","drag","cx","classNames","join","fieldsToBlockSums","fields","map","reduce","a","b","formattingConfig","factor","singular","plural","short","formatNumberWithSuffix","x","levelConfig","find","num","Math","round","suffix","_path","_path2","_path3","_path4","_path5","DatasetPlaceholder","onDrop","useDrop","accept","drop","isOver","placeholderContainer","StaticDatasetBlock","ghostBlock","Title","title","useState","textIsVisible","setTextIsVisible","useFitText","onStart","onFinish","fontSize","titleRef","opacity","rawHeight","dataset","y","overflow","DatasetBlock","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgMigration","_ref","svgRef","titleId","props","viewBox","fill","xmlns","id","stroke","fillRule","clipRule","_circle","_circle2","_circle3","_rect","_rect2","_rect3","_rect4","_rect5","_rect6","_rect7","_rect8","_rect9","_rect10","_rect11","_rect12","_rect13","_rect14","_rect15","_rect16","ForwardRef","SvgVirus","cy","r","_path6","_path7","_path8","_path9","_path10","_path11","_path12","_path13","_path14","SvgEnergyProduce","strokeLinecap","SvgAgeGroups","strokeWidth","normalGroups","icon","datasets","memoryGroups","datasetGroups","window","location","href","includes","group","Context","createContext","availableBlocks","setAvailableBlocks","setFields","setDataset","availableDatasets","setAvailableDatasets","solution","setSolution","ContextProvider","children","Provider","value","Bar","onBlockDrag","showTop","prev","block","renderedBlocks","InteractiveBar","scaleY","addBlocks","removeBlocks","useContext","hoverItem","hoverBlocks","topY","useMemo","range","paddingInner","domain","forEach","floor","ghostBar","layerStyles","position","pointerEvents","zIndex","left","getItemStyles","initialOffset","currentOffset","itemType","display","slice","WebkitTransform","_line","_line2","CustomDragLayer","useDragLayer","getItemType","getInitialSourceClientOffset","getSourceClientOffset","isDragging","document","body","classList","add","container","renderItem","remove","SvgCircleCheckMark","x1","y1","x2","y2","SvgChevronUp","SvgChevronDown","getMaxFontSizeForWidth","min","Label","correctionFeedback","allCorrect","absoluteValue","unit","labelValueFontSize","labelValue","feedbackContent","numBlocks","abs","Array","feedbackBlock","feedbackBlocks","openBlock","openBlockBottom","openBlockTop","openBlockTopNumber","feedbackContainer","feedbackSide","feedbackLabel","InteractiveBars","getX","rawDataset","scaleBand","labelFontsize","maxLabelLength","max","maxValueLength","iField","concat","iBlock","removedBlocks","every","sum","MainDisplay","progress","diff","feedback","progressBar","progressLabelRight","progressLabelLeft","mainDisplay","findDataset","findClosestSolution","solutions","blockSums","bestSolution","error","cur","getError","Content","initialSize","setSize","node","setNode","useCallback","useEffect","handleResize","requestAnimationFrame","clientWidth","clientHeight","debouncedHandleResize","debounce","addEventListener","removeEventListener","useDimensions","dimensions","scaleLinear","nice","windowWidth","innerWidth","setWidth","handleWindowSizeChange","useWindowWidth","scaledBlockSize","unhideDataset","hidden","noMobileContainer","noMobileMessage","leftContainer","leftMain","selectedDataSetContainer","dataSetPlaceholder","chart","button","visibility","onClick","checkIcon","toolsContainer","pow","removeAvailableBlock","addAvailableBlock","blocksLeftLabel","paddingRight","snapToGrid","titleContainer","groupTitle","minHeight","datasetWithLabel","bottom","InteractiveBarChart","DndProvider","backend","MouseBackEnd","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2ae97f42.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"bar\":\"Block_bar__1iGFW\",\"rightSide\":\"Block_rightSide__qrtXf\",\"top\":\"Block_top__1F4Ag\",\"ghostBar\":\"Block_ghostBar__9Q_9b\",\"svgWrapper\":\"Block_svgWrapper__2cxW7\",\"padding\":\"Block_padding__2aUP3\",\"placeholder\":\"Block_placeholder__1sYx7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bar\":\"DatasetBlock_bar__3D2je\",\"rightSide\":\"DatasetBlock_rightSide__3mdrd\",\"top\":\"DatasetBlock_top__18BMo\",\"ghostBar\":\"DatasetBlock_ghostBar__ekm9a\",\"svgWrapper\":\"DatasetBlock_svgWrapper__rmvSm\",\"placeholderContainer\":\"DatasetBlock_placeholderContainer__tOHTT\",\"title\":\"DatasetBlock_title__3Kgkt\",\"ghostBlock\":\"DatasetBlock_ghostBlock__33H39\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainDisplay\":\"MainDisplay_mainDisplay__10_YZ\",\"feedback\":\"MainDisplay_feedback__5ZV0K\",\"progressBar\":\"MainDisplay_progressBar__2Fz9h\",\"progress\":\"MainDisplay_progress__1yFwD\",\"progressLabelRight\":\"MainDisplay_progressLabelRight__34k46\",\"progressLabelLeft\":\"MainDisplay_progressLabelLeft__3cpWa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"CustomDragLayer_container__1abtC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"app_container__2JKVN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ghostBar\":\"Bar_ghostBar__1RlHv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"titleContainer\":\"InteractiveBarChart_titleContainer__8lerP\",\"icon\":\"InteractiveBarChart_icon__3DXR5\",\"checkIcon\":\"InteractiveBarChart_checkIcon__26Gjr\",\"groupTitle\":\"InteractiveBarChart_groupTitle__3Si6e\",\"leftContainer\":\"InteractiveBarChart_leftContainer__1sg8x\",\"leftMain\":\"InteractiveBarChart_leftMain__1jqjh\",\"button\":\"InteractiveBarChart_button__i23Yb\",\"selectedDataSetContainer\":\"InteractiveBarChart_selectedDataSetContainer__1uW0u\",\"dataSetPlaceholder\":\"InteractiveBarChart_dataSetPlaceholder__2pX6J\",\"datasets\":\"InteractiveBarChart_datasets__3ucgV\",\"chart\":\"InteractiveBarChart_chart__1-1XT\",\"container\":\"InteractiveBarChart_container__2QaEl\",\"toolsContainer\":\"InteractiveBarChart_toolsContainer__2qo98\",\"blocks\":\"InteractiveBarChart_blocks__RNieA\",\"block\":\"InteractiveBarChart_block__3-8nQ\",\"blocksLeftLabel\":\"InteractiveBarChart_blocksLeftLabel__FvD23\",\"datasetWithLabel\":\"InteractiveBarChart_datasetWithLabel__2yTpO\",\"source\":\"InteractiveBarChart_source__2i80c\",\"noMobileContainer\":\"InteractiveBarChart_noMobileContainer__3Za_F\",\"noMobileMessage\":\"InteractiveBarChart_noMobileMessage__1CsKQ\"};","export const blocksDndType = \"block\";\nexport const datasetDndType = \"dataset\";\n","export const EMPTY_DATASET = {\n  data: [\n    { label: \"1\" },\n    { label: \"2\" },\n    { label: \"3\" },\n    { label: \"4\" },\n    { label: \"5\" },\n  ],\n};\n\nexport const BLOCK_PADDING = 1;\n\n\nexport const FONT_ASPECT_RATIO = 85 / 50;","import { useDrag } from \"react-dnd\";\nimport React from \"react\";\n\nimport { blocksDndType } from \"../config\";\nimport cn from \"./index.module.css\";\nimport { BLOCK_PADDING } from \"../../../constants\";\n\nconst getXStretch = (barWidth) => barWidth / 5;\nconst getYStretch = (barWidth) => barWidth / 4;\n\nexport const Placeholder = ({ barWidth, wrapSvg }) => {\n  const width = barWidth;\n  const xStretch = getXStretch(barWidth);\n  const yStretch = getYStretch(barWidth);\n\n  const content = (\n    <path\n      className={cn.placeholder}\n      d={`M0 0 L${width} 0  L${\n        width + xStretch\n      } ${-yStretch} L${xStretch} ${-yStretch} Z`}\n      shapeRendering=\"crispEdges\"\n    />\n  );\n\n  return wrapSvg ? (\n    <svg height={25} width={barWidth + 25} className={cn.svgWrapper}>\n      {content}\n    </svg>\n  ) : (\n    content\n  );\n};\n\nexport const StaticBlock = React.forwardRef(\n  (\n    {\n      disableHover,\n      className,\n      barWidth,\n      scaleX,\n      size,\n      yShift = 0,\n      isTop,\n      wrapSvg,\n    },\n    ref\n  ) => {\n    const width = barWidth || scaleX?.bandwidth();\n    const height = barWidth * size - BLOCK_PADDING * 2;\n    const xStretch = getXStretch(barWidth);\n    const yStretch = getYStretch(barWidth);\n\n    const content = (\n      <g\n        ref={ref}\n        transform={`translate(${\n          barWidth && scaleX ? scaleX.bandwidth() / 2 - barWidth / 2 : 0\n        }, ${-yShift - BLOCK_PADDING})`}\n        className={className}\n        style={disableHover ? {} : { cursor: \"grab\" }}\n      >\n        <rect\n          className={cn.bar}\n          height={height}\n          width={width}\n          shapeRendering=\"crispEdges\"\n        />\n        <path\n          className={cn.rightSide}\n          d={`M${width} 0 L${width} ${height} L${width + xStretch} ${\n            height - yStretch\n          } L${width + xStretch} ${-yStretch} Z`}\n          shapeRendering=\"crispEdges\"\n        />\n\n        {isTop ? (\n          <path\n            className={cn.top}\n            d={`M0 0 L${width} 0  L${\n              width + xStretch\n            } ${-yStretch} L${xStretch} ${-yStretch} Z`}\n            shapeRendering=\"crispEdges\"\n          />\n        ) : (\n          <path\n            className={cn.padding}\n            d={`M0 0 L${width} 0  L${\n              width + xStretch\n            } ${-yStretch} L${xStretch} ${-yStretch} Z`}\n            shapeRendering=\"crispEdges\"\n          />\n        )}\n      </g>\n    );\n\n    return wrapSvg ? (\n      <svg height={height + 25} width={barWidth + 25} className={cn.svgWrapper}>\n        {content}\n      </svg>\n    ) : (\n      content\n    );\n  }\n);\n\nexport const Block = ({\n  className,\n  size = 1,\n  barWidth,\n  scaleX,\n  yShift = 0,\n  onDrag,\n  onFailedDrop,\n  isTop,\n  wrapSvg,\n}) => {\n  const [collected, drag] = useDrag(() => {\n    return {\n      collect: (monitor) => ({\n        anythingIsDragging: monitor.getItem() !== null,\n      }),\n      type: blocksDndType,\n      item: () => {\n        const items = onDrag ? onDrag() : {};\n        const blocks = [size];\n        return { width: barWidth, blocks, ...items };\n      },\n      end: (item, monitor) => {\n        const didDrop = monitor.didDrop();\n        if (!didDrop && onFailedDrop) onFailedDrop(item);\n      },\n    };\n  }, [onDrag, barWidth]);\n\n  return (\n    <StaticBlock\n      ref={drag}\n      wrapSvg={wrapSvg}\n      className={className}\n      barWidth={barWidth}\n      scaleX={scaleX}\n      size={size}\n      yShift={yShift}\n      isTop={isTop}\n      disableHover={collected.anythingIsDragging}\n    />\n  );\n};\n","import { extent } from \"d3-array\";\n\nexport function cx(...classNames) {\n  return classNames.join(\" \");\n}\n\nexport function updateExtent(extentArr, get, data) {\n  const newExtent = extent(data, get);\n  return [\n    Math.max(...(extentArr || []), ...newExtent),\n    Math.min(...(extentArr || []), ...newExtent),\n  ];\n}\n\nexport function fieldsToBlockSums(fields) {\n  return fields.map((d) => d.reduce((a, b) => a + b, 0) * 2);\n}\n\nconst formattingConfig = [\n  {\n    factor: 1000000000000,\n    singular: \"Billion\",\n    plural: \"Billionen\",\n    short: \"Bil.\",\n  },\n  {\n    factor: 1000000000,\n    singular: \"Milliarde\",\n    plural: \"Milliarden\",\n    short: \"Mrd.\",\n  },\n  {\n    factor: 1000000,\n    singular: \"Million\",\n    plural: \"Millionen\",\n    short: \"Mio.\",\n  },\n  {\n    factor: 1000,\n    singular: \"Tausend\",\n    plural: \"Tausend\",\n    short: \"Tsd.\",\n  },\n];\n\nexport function formatNumberWithSuffix(x, short) {\n  const levelConfig = formattingConfig.find((d) => d.factor <= x);\n  if (!levelConfig) return `${x}`;\n  let num = x / levelConfig.factor;\n  num = Math.round(num * 10) / 10;\n  if (num > 100) num = Math.round(num);\n  const suffix = short\n    ? levelConfig.short\n    : num === 1\n    ? levelConfig.singular\n    : levelConfig.plural;\n  return `${num}\\u2009${suffix}`;\n}\n","var _path, _path2, _path3, _path4, _path5;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgMigration(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 35,\n    height: 35,\n    viewBox: \"0 0 18 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.7617 10.2015H4.37247V8.37927L1 11.6379L4.37247 14.8874V13.1172H10.327M7.50062 13.1104H13.4551V11.2089L16.6724 14.6122L13.4551 18V16.1528H7.92457\",\n    stroke: \"black\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M14.9723 10.7374L15.6697 11.4751C16.5907 10.273 17.138 8.76936 17.138 7.13793C17.138 3.19576 13.9423 0 10.0001 0C6.05793 0 2.86217 3.19576 2.86217 7.13793C2.86217 7.36061 2.87237 7.5809 2.89232 7.79837L3.67769 7.03951L3.86857 6.85507C4.01638 3.59649 6.70502 1 10.0001 1C13.39 1 16.138 3.74805 16.138 7.13793C16.138 8.48258 15.7057 9.72623 14.9723 10.7374Z\",\n    fill: \"black\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.58614 1.39661L8.00014 2.81061C8.18768 2.99815 8.29303 3.2525 8.29303 3.51772V4.39619C8.29303 4.6614 8.39839 4.91576 8.58593 5.10329L9.39669 5.91406C9.58423 6.1016 9.68959 6.35595 9.68959 6.62117V7.26398C9.68959 7.65917 9.45685 8.01729 9.09572 8.17779L8.48696 8.44835C8.3591 8.50518 8.22074 8.53454 8.08082 8.53454H7.89718C7.56283 8.53454 7.2506 8.36744 7.06513 8.08924L6.10714 6.65225C5.92168 6.37405 5.60944 6.20695 5.27509 6.20695H3.32751\",\n    stroke: \"black\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.862 0.620605V1.98343C11.862 2.20575 11.7841 2.42103 11.6418 2.59182V2.59182C11.3271 2.96942 11.3523 3.52465 11.6999 3.87221L12.1898 4.3622C12.3774 4.54973 12.4827 4.80409 12.4827 5.0693V5.48268C12.4827 5.88261 12.8069 6.20681 13.2069 6.20681V6.20681C13.4348 6.20681 13.6494 6.0995 13.7862 5.91716L14.6655 4.74474C14.8543 4.49294 15.1507 4.34474 15.4655 4.34474H16.0517\",\n    stroke: \"black\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M16.3621 9.77587L15.1079 8.3963C14.9184 8.18782 14.6497 8.06897 14.368 8.06897H13.6728C13.4076 8.06897 13.1533 8.17433 12.9657 8.36186L12.6379 8.68966\",\n    stroke: \"black\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgMigration);\nexport default __webpack_public_path__ + \"static/media/migration.2b1e4c0d.svg\";\nexport { ForwardRef as ReactComponent };","import { useDrag } from \"react-dnd\";\nimport React, { useState } from \"react\";\nimport { useDrop } from \"react-dnd\";\n\nimport { datasetDndType } from \"../config\";\nimport cn from \"./index.module.css\";\nimport { cx } from \"../../../utils\";\nimport { BLOCK_PADDING } from \"../../../constants\";\nimport useFitText from \"use-fit-text\";\n\nconst getXStretch = (barWidth) => barWidth / 5;\nconst getYStretch = (barWidth) => barWidth / 4;\n\nexport const DatasetPlaceholder = ({ barWidth, className, scaleX, onDrop }) => {\n  const [{ isOver }, drop] = useDrop(\n    () => ({\n      accept: datasetDndType,\n      drop: onDrop,\n      collect: (monitor) => ({\n        isOver: monitor.isOver(),\n        item: monitor.getItem(),\n      }),\n    }),\n    [onDrop]\n  );\n\n  const width = barWidth;\n  const xStretch = getXStretch(barWidth);\n  const yStretch = getYStretch(barWidth);\n\n  return (\n    <div ref={drop} className={cn.placeholderContainer}>\n      {isOver ? (\n        <StaticDatasetBlock\n          wrapSvg={true}\n          barWidth={barWidth}\n          scaleX={scaleX}\n          height={barWidth}\n          isTop={true}\n          className={cn.ghostBlock}\n        />\n      ) : (\n        <svg height={yStretch} width={barWidth + xStretch}>\n          <g\n            transform={`translate(${\n              barWidth && scaleX ? scaleX.bandwidth() / 2 - barWidth / 2 : 0\n            }, ${yStretch})`}\n            className={className}\n          >\n            <path\n              className={cx(className)}\n              d={`M0 0 L${width} 0  L${\n                width + xStretch\n              } ${-yStretch} L${xStretch} ${-yStretch} Z`}\n              shapeRendering=\"crispEdges\"\n            />\n          </g>\n        </svg>\n      )}\n    </div>\n  );\n};\n\nconst Title = ({ title }) => {\n  const [textIsVisible, setTextIsVisible] = useState(false);\n\n  const { fontSize, ref: titleRef } = useFitText({\n    onStart: () => setTextIsVisible(false),\n    onFinish: () => setTextIsVisible(true),\n  });\n\n  return (\n    <div\n      ref={titleRef}\n      className={cn.title}\n      style={{\n        opacity: textIsVisible ? 100 : 0,\n        fontSize: fontSize,\n      }}\n    >\n      {title}\n    </div>\n  );\n};\n\nexport const StaticDatasetBlock = React.forwardRef(\n  (\n    {\n      disableHover,\n      className,\n      barWidth,\n      scaleX,\n      height: rawHeight,\n      isTop,\n      wrapSvg,\n      dataset,\n    },\n    ref\n  ) => {\n    const width = barWidth || scaleX?.bandwidth();\n    const height = rawHeight - BLOCK_PADDING * 2;\n    const xStretch = getXStretch(barWidth);\n    const yStretch = getYStretch(barWidth);\n\n    if (width < 0 || height < 0) return null;\n\n    const content = (\n      <g\n        ref={ref}\n        transform={`translate(${\n          barWidth && scaleX ? scaleX.bandwidth() / 2 - barWidth / 2 : 0\n        }, ${yStretch})`}\n        className={className}\n        style={disableHover ? {} : { cursor: \"grab\" }}\n      >\n        <rect\n          className={cn.bar}\n          height={height}\n          width={width}\n          shapeRendering=\"crispEdges\"\n        />\n        <path\n          className={cn.rightSide}\n          d={`M${width} 0 L${width} ${height} L${width + xStretch} ${\n            height - yStretch\n          } L${width + xStretch} ${-yStretch} Z`}\n          shapeRendering=\"crispEdges\"\n        />\n        {isTop && (\n          <path\n            className={cn.top}\n            d={`M0 0 L${width} 0  L${\n              width + xStretch\n            } ${-yStretch} L${xStretch} ${-yStretch} Z`}\n            shapeRendering=\"crispEdges\"\n          />\n        )}\n        <foreignObject\n          x=\"0\"\n          y=\"0\"\n          width={width}\n          height={height}\n          style={{ overflow: \"visible\" }}\n        >\n          <Title title={dataset?.title} height={height} />\n        </foreignObject>\n      </g>\n    );\n\n    return wrapSvg ? (\n      <svg\n        height={height + yStretch}\n        width={barWidth + xStretch}\n        className={cn.svgWrapper}\n      >\n        {content}\n      </svg>\n    ) : (\n      content\n    );\n  }\n);\n\nexport const DatasetBlock = ({\n  className,\n  barWidth,\n  scaleX,\n  height,\n  isTop,\n  wrapSvg,\n  dataset,\n  onDrag,\n  onFailedDrop,\n}) => {\n  const [collected, drag] = useDrag(() => {\n    return {\n      collect: (monitor) => ({\n        anythingIsDragging: monitor.getItem() !== null,\n      }),\n      type: datasetDndType,\n      item: () => {\n        if (onDrag) onDrag();\n        return { ...dataset, height, width: barWidth };\n      },\n      end: (item, monitor) => {\n        const didDrop = monitor.didDrop();\n        if (!didDrop && onFailedDrop) onFailedDrop(item);\n      },\n    };\n  }, [onDrag, barWidth]);\n\n  return (\n    <StaticDatasetBlock\n      ref={drag}\n      wrapSvg={wrapSvg}\n      className={className}\n      barWidth={barWidth}\n      scaleX={scaleX}\n      height={height}\n      isTop={isTop}\n      dataset={dataset}\n      disableHover={collected.anythingIsDragging}\n    />\n  );\n};\n","var _circle, _circle2, _circle3, _rect, _rect2, _rect3, _rect4, _rect5, _rect6, _rect7, _rect8, _rect9, _rect10, _rect11, _rect12, _rect13, _rect14, _rect15, _rect16;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgVirus(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 35,\n    height: 35,\n    viewBox: \"0 0 14 14\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 6.99857,\n    cy: 6.99991,\n    r: 4.63333,\n    stroke: \"black\"\n  })), _circle2 || (_circle2 = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 7.93125,\n    cy: 6.06663,\n    r: 1.4,\n    fill: \"black\"\n  })), _circle3 || (_circle3 = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 5.59935,\n    cy: 8.39989,\n    r: 0.933333,\n    fill: \"black\"\n  })), _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 5.59961,\n    width: 2.8,\n    height: 0.933333,\n    fill: \"black\"\n  })), _rect2 || (_rect2 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 6.5332,\n    y: 2.80005,\n    width: 2.8,\n    height: 0.933333,\n    transform: \"rotate(-90 6.5332 2.80005)\",\n    fill: \"black\"\n  })), _rect3 || (_rect3 = /*#__PURE__*/React.createElement(\"rect\", {\n    y: 8.40002,\n    width: 2.8,\n    height: 0.933333,\n    transform: \"rotate(-90 0 8.40002)\",\n    fill: \"black\"\n  })), _rect4 || (_rect4 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 2.80078,\n    y: 7.46667,\n    width: 2.8,\n    height: 0.933333,\n    transform: \"rotate(-180 2.80078 7.46667)\",\n    fill: \"black\"\n  })), _rect5 || (_rect5 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 8.40039,\n    y: 14,\n    width: 2.8,\n    height: 0.933333,\n    transform: \"rotate(180 8.40039 14)\",\n    fill: \"black\"\n  })), _rect6 || (_rect6 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 7.4668,\n    y: 11.2,\n    width: 2.8,\n    height: 0.933333,\n    transform: \"rotate(90 7.4668 11.2)\",\n    fill: \"black\"\n  })), _rect7 || (_rect7 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 13.293,\n    y: 11.3132,\n    width: 2.8,\n    height: 0.933333,\n    transform: \"rotate(135 13.293 11.3132)\",\n    fill: \"black\"\n  })), _rect8 || (_rect8 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 10.6523,\n    y: 9.99329,\n    width: 2.8,\n    height: 0.933333,\n    transform: \"rotate(45 10.6523 9.99329)\",\n    fill: \"black\"\n  })), _rect9 || (_rect9 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 2.91394,\n    y: 13.2931,\n    width: 2.8,\n    height: 0.933333,\n    transform: \"rotate(-135 2.91394 13.2931)\",\n    fill: \"black\"\n  })), _rect10 || (_rect10 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 4.23413,\n    y: 10.6533,\n    width: 2.8,\n    height: 0.933333,\n    transform: \"rotate(135 4.23413 10.6533)\",\n    fill: \"black\"\n  })), _rect11 || (_rect11 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 14,\n    y: 5.59998,\n    width: 2.8,\n    height: 0.933333,\n    transform: \"rotate(90 14 5.59998)\",\n    fill: \"black\"\n  })), _rect12 || (_rect12 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 11.1992,\n    y: 6.53333,\n    width: 2.8,\n    height: 0.933333,\n    fill: \"black\"\n  })), _rect13 || (_rect13 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 11.3143,\n    y: 0.93335,\n    width: 2.8,\n    height: 0.933333,\n    transform: \"rotate(45 11.3143 0.93335)\",\n    fill: \"black\"\n  })), _rect14 || (_rect14 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 9.99414,\n    y: 3.57312,\n    width: 2.8,\n    height: 0.933333,\n    transform: \"rotate(-45 9.99414 3.57312)\",\n    fill: \"black\"\n  })), _rect15 || (_rect15 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 0.933716,\n    y: 2.91321,\n    width: 2.8,\n    height: 0.933333,\n    transform: \"rotate(-45 0.933716 2.91321)\",\n    fill: \"black\"\n  })), _rect16 || (_rect16 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 3.57422,\n    y: 4.23315,\n    width: 2.8,\n    height: 0.933333,\n    transform: \"rotate(-135 3.57422 4.23315)\",\n    fill: \"black\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgVirus);\nexport default __webpack_public_path__ + \"static/media/virus.8e0dd785.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2, _path3, _path4, _path5, _path6, _path7, _path8, _path9, _path10, _path11, _path12, _path13, _path14;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgEnergyProduce(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 45,\n    height: 45,\n    viewBox: \"0 0 21 18\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.5 5.99988C10.5 8.95687 10.35 15.2967 9.75 16.9999H11.75\",\n    stroke: \"black\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11 5.99988C11 8.95687 11.15 15.2967 11.75 16.9999H9.75\",\n    stroke: \"black\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.5968 6.3479L10.2894 3.62354L10.5968 0.89917\",\n    stroke: \"black\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.9041 6.3479L11.2115 3.62354L10.9041 0.89917\",\n    stroke: \"black\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.24737 8.78575L8.45229 7.15777L10.9646 6.06225\",\n    stroke: \"black\"\n  })), _path6 || (_path6 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.4009 9.05237L8.91323 7.95685L11.1181 6.32887\",\n    stroke: \"black\"\n  })), _path7 || (_path7 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M15.3139 8.78575L13.109 7.15777L10.5967 6.06225\",\n    stroke: \"black\"\n  })), _path8 || (_path8 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M15.1604 9.05237L12.6481 7.95685L10.4431 6.32887\",\n    stroke: \"black\"\n  })), _path9 || (_path9 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M13.7497 10.4802C13.6209 12.2843 13.7497 14.7326 12.9766 16.6655\",\n    stroke: \"black\",\n    strokeLinecap: \"round\"\n  })), _path10 || (_path10 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M18.2769 10.516C18.2573 10.2405 18.4646 10.0013 18.74 9.98162C19.0155 9.96194 19.2547 10.1693 19.2744 10.4447L18.2769 10.516ZM19.2744 10.4447C19.4088 12.3259 19.082 13.1167 20.0306 16.5318L19.0671 16.7994C18.0828 13.2561 18.4003 12.2429 18.2769 10.516L19.2744 10.4447Z\",\n    fill: \"black\"\n  })), _path11 || (_path11 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M13 15.6909C12.8793 15.7756 12.5199 16.0615 12.5199 16.5865C12.5199 17.1261 12.8996 17.4131 13.0095 17.4886C13.1591 17.5914 13.3153 17.6509 13.4206 17.6859C13.6446 17.7604 13.9154 17.812 14.1861 17.8501C14.7427 17.9283 15.4789 17.9731 16.2699 17.9731C17.0609 17.9731 17.7971 17.9283 18.3536 17.8501C18.6244 17.812 18.8952 17.7604 19.1192 17.6859C19.2245 17.6509 19.3807 17.5914 19.5303 17.4886C19.6402 17.4131 20.0199 17.1261 20.0199 16.5865C20.0199 16.0468 19.6402 15.7598 19.5303 15.6843C19.3807 15.5815 19.2245 15.522 19.1192 15.487C19.0807 15.4743 19.0409 15.4622 19 15.4507V16.5397C19.0131 16.555 19.0199 16.5706 19.0199 16.5865C19.0199 16.7035 18.6498 16.8084 18.0651 16.8793C17.5834 16.9377 16.956 16.9731 16.2699 16.9731C15.5838 16.9731 14.9564 16.9377 14.4747 16.8793C13.9125 16.8112 13.5487 16.7115 13.5215 16.5999H13V15.6909ZM14.0404 17.389C14.0403 17.3889 14.0423 17.3881 14.0467 17.3866C14.0427 17.3882 14.0405 17.389 14.0404 17.389ZM18.4931 17.3866C18.4975 17.3881 18.4995 17.3889 18.4994 17.389C18.4993 17.389 18.4971 17.3882 18.4931 17.3866Z\",\n    fill: \"black\"\n  })), _path12 || (_path12 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M13.2206 10.4434C13.2202 10.4555 13.22 10.4678 13.22 10.4802C13.22 10.893 13.4457 11.166 13.5839 11.2934C13.7237 11.4222 13.8735 11.4992 13.9739 11.544C14.1813 11.6365 14.419 11.6954 14.6351 11.7362C15.0838 11.8208 15.6612 11.8667 16.27 11.8667C16.8787 11.8667 17.4562 11.8208 17.9048 11.7362C18.121 11.6954 18.3586 11.6365 18.5661 11.544C18.6664 11.4992 18.8162 11.4222 18.956 11.2934C19.0943 11.166 19.32 10.893 19.32 10.4802C19.32 10.0673 19.0943 9.79429 18.956 9.66688C18.8162 9.53807 18.6664 9.46109 18.5661 9.41634C18.3586 9.32386 18.121 9.26488 17.9048 9.22412C17.8072 9.2057 17.7034 9.18912 17.5945 9.17444V10.1851C18.0383 10.256 18.32 10.3619 18.32 10.4802C18.32 10.6166 17.945 10.7366 17.3787 10.8054C17.059 10.8442 16.6785 10.8667 16.27 10.8667C15.8615 10.8667 15.4809 10.8442 15.1613 10.8054C14.595 10.7366 14.22 10.6166 14.22 10.4802C14.22 10.4678 14.2231 10.4555 14.2291 10.4434H13.2206Z\",\n    fill: \"black\"\n  })), _path13 || (_path13 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M18 10C17.5023 8.50698 20.9675 7.01396 18.7453 5.42571C18.7254 5.41143 18.7051 5.39534 18.6875 5.37815C18.0367 4.74121 17.4034 3.32214 16.3925 4.38003C16.2293 4.55075 15.9803 4.61839 15.7526 4.55583C14.25 4.14298 14 5.76581 14 6.22906\",\n    stroke: \"black\"\n  })), _path14 || (_path14 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9 12.9999L7 11.4999V12.9999L5 11.4999V12.9999L3.35294 12.4999L2.88235 4.99988H1.94118L1.47059 12.4999H1V16.9999H8.52941\",\n    stroke: \"black\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgEnergyProduce);\nexport default __webpack_public_path__ + \"static/media/energy-produce.94a5b046.svg\";\nexport { ForwardRef as ReactComponent };","var _circle, _circle2, _path, _path2, _path3;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgAgeGroups(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 40,\n    height: 40,\n    viewBox: \"0 0 19 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    r: 1.77241,\n    transform: \"matrix(-1 0 0 1 11.2413 2.97246)\",\n    stroke: \"black\",\n    strokeWidth: 0.8\n  })), _circle2 || (_circle2 = /*#__PURE__*/React.createElement(\"circle\", {\n    r: 1.15172,\n    transform: \"matrix(-1 0 0 1 3.79312 10.3104)\",\n    stroke: \"black\",\n    strokeWidth: 0.8\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M17.0876 11.217L13.8598 6.30752C13.8527 6.29677 13.8436 6.28749 13.8331 6.28018L12.5387 5.38624C12.5029 5.36157 12.4554 5.36276 12.421 5.38919L11.3032 6.24691C11.2688 6.27334 11.2212 6.27453 11.1855 6.24986L9.93158 5.38388C9.89753 5.36036 9.85252 5.36025 9.81835 5.38359L8.12403 6.54086C8.10439 6.55428 8.09018 6.57425 8.08394 6.5972L6.61221 12.0092C6.59782 12.0622 6.62877 12.1168 6.68158 12.1317L7.4493 12.3481C7.50242 12.3631 7.55763 12.3322 7.57266 12.2791L8.92742 7.48957C8.96014 7.37388 9.13169 7.40374 9.1234 7.52368L8.77878 12.5104L9.04881 18.9042C9.05107 18.9578 9.09513 19 9.14872 19H10.4683C10.5203 19 10.5636 18.9602 10.568 18.9084L11.1548 11.9606C11.1651 11.8395 11.3417 11.838 11.354 11.9589L12.0585 18.9101C12.0637 18.9612 12.1067 19 12.158 19H13.3401C13.3945 19 13.4389 18.9565 13.4401 18.9021L13.575 12.5104L13.1921 7.9765C13.1837 7.87756 13.3091 7.82824 13.3704 7.90635L16.3909 11.7555C16.425 11.7991 16.488 11.8066 16.5315 11.7723L17.066 11.3504C17.1067 11.3183 17.1161 11.2604 17.0876 11.217Z\",\n    stroke: \"black\",\n    strokeWidth: 0.8\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M17.7518 12.6158C17.7858 12.2611 17.7108 11.5518 17.138 11.5518C16.5651 11.5518 16.4901 12.2611 16.5242 12.6158V19\",\n    stroke: \"black\",\n    strokeWidth: 0.8\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M2.13268 15.9494H1.11554C1.0546 15.9494 1.00783 15.8954 1.01657 15.8351L1.27284 14.0671C1.40595 13.1489 2.15313 12.4427 3.07745 12.3617L3.57825 12.3177H4.15119L4.48032 12.3502C5.37762 12.4386 6.10478 13.1166 6.25584 14.0055L6.56637 15.8327C6.57674 15.8937 6.5297 15.9494 6.46778 15.9494H5.43831C5.38782 15.9494 5.34526 15.9118 5.33906 15.8617L5.11659 14.061L5.71292 18.8878C5.72029 18.9474 5.67377 19.0001 5.61368 19.0001H4.66372C4.61568 19.0001 4.57442 18.9659 4.56547 18.9187L3.97393 15.799C3.95296 15.6885 3.79368 15.6914 3.77681 15.8027L3.30467 18.9151C3.29726 18.9639 3.25524 19.0001 3.2058 19.0001H2.1109C2.05256 19.0001 2.0066 18.9503 2.01122 18.8922L2.24481 15.9494L2.43359 14.061\",\n    stroke: \"black\",\n    strokeWidth: 0.8\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAgeGroups);\nexport default __webpack_public_path__ + \"static/media/age-groups.e2c4f16b.svg\";\nexport { ForwardRef as ReactComponent };","import { ReactComponent as MigrationIcon } from \"./static-assets/icons/migration.svg\";\nimport { ReactComponent as VirusIcon } from \"./static-assets/icons/virus.svg\";\nimport { ReactComponent as EnergyProduceIcon } from \"./static-assets/icons/energy-produce.svg\";\nimport { ReactComponent as AgeGroupsIcon } from \"./static-assets/icons/age-groups.svg\";\n\nimport data from \"./data.json\";\n\nconst normalGroups = [\n  {\n    title: \"COVID-19 Pandemie\",\n    icon: <VirusIcon />,\n    datasets: [\"2079325172\", \"147222245792\", \"1672511511532\"],\n  },\n  {\n    title: \"Stromerzeugung\",\n    icon: <EnergyProduceIcon />,\n    datasets: [\"1473021857110\", \"201814251184\"],\n  },\n];\n\nconst memoryGroups = [\n  {\n    title: \"Altergruppen\",\n    icon: <AgeGroupsIcon />,\n    datasets: [\"2442339250115\"],\n  },\n  {\n    title: \"Migration\",\n    icon: <MigrationIcon />,\n    datasets: [\"101997053117\"],\n  },\n];\n\nlet groups;\nif (window.location.href.includes(\"?\")) {\n  groups = memoryGroups;\n} else {\n  groups = normalGroups;\n}\n\nexport const datasetGroups = groups.map((group) => ({\n  ...group,\n  datasets: group.datasets.map((id) => data.find((d) => d.id === id)),\n}));\n","import React, { useState } from \"react\";\nimport { datasetGroups } from \"../../../config\";\n\nexport const Context = React.createContext({\n  availableBlocks: null,\n  setAvailableBlocks: null,\n  fields: null,\n  setFields: null,\n  dataset: null,\n  setDataset: null,\n  availableDatasets: null,\n  setAvailableDatasets: null,\n  solution: null,\n  setSolution: null,\n});\n\nexport const ContextProvider = ({ children }) => {\n  const [availableBlocks, setAvailableBlocks] = useState([5, 8, 8]);\n  const [fields, setFields] = useState([[], [], [], [], []]);\n  const [availableDatasets, setAvailableDatasets] = useState(datasetGroups);\n\n  const [dataset, setDataset] = useState();\n  const [solution, setSolution] = useState();\n\n  return (\n    <Context.Provider\n      value={{\n        availableBlocks,\n        setAvailableBlocks,\n        fields,\n        setFields,\n        dataset,\n        setDataset,\n        solution,\n        setSolution,\n        availableDatasets,\n        setAvailableDatasets,\n      }}\n    >\n      {children}\n    </Context.Provider>\n  );\n};\n","import { useContext, useMemo } from \"react\";\nimport { useDrop } from \"react-dnd\";\nimport { BLOCK_PADDING } from \"../../../constants\";\nimport { Block, Placeholder } from \"../Block\";\nimport { blocksDndType } from \"../config\";\nimport { Context } from \"../Context\";\nimport cn from \"./index.module.css\";\n\n/**\n * Renders an array of blocks.\n */\nexport const Bar = ({\n  barWidth,\n  className,\n  blocks,\n  onBlockDrag,\n  onFailedDrop,\n  showTop = true,\n}) => {\n  return blocks.reduce(\n    (prev, block, i) => {\n      const isTop = i === blocks.length - 1;\n      const yShift = prev.yShift + block * barWidth;\n      return {\n        yShift,\n        renderedBlocks: [\n          ...prev.renderedBlocks,\n          <Block\n            isTop={isTop && showTop}\n            key={i}\n            className={className}\n            barWidth={barWidth}\n            size={block}\n            yShift={yShift}\n            onDrag={() => onBlockDrag(i)}\n            onFailedDrop={onFailedDrop}\n          />,\n        ],\n      };\n    },\n    { yShift: -BLOCK_PADDING, renderedBlocks: [] }\n  ).renderedBlocks;\n};\n\nexport const InteractiveBar = ({\n  x,\n  scaleX,\n  scaleY,\n  barWidth,\n  blocks,\n  addBlocks,\n  removeBlocks,\n  children,\n}) => {\n  const { availableBlocks, setAvailableBlocks } = useContext(Context);\n  const [{ item: hoverItem, isOver }, drop] = useDrop(\n    () => ({\n      accept: blocksDndType,\n      drop: (item) => addBlocks(item.blocks),\n      collect: (monitor) => ({\n        isOver: monitor.isOver(),\n        item: monitor.getItem(),\n      }),\n    }),\n    [addBlocks]\n  );\n  const hoverBlocks = hoverItem?.blocks;\n\n  const topY = useMemo(\n    () => blocks.reduce((a, b) => a + b, 0) * barWidth,\n    [barWidth, blocks]\n  );\n\n  const onFailedDrop = (item) => {\n    const droppedBlocks = item.blocks;\n    droppedBlocks.forEach((d) => availableBlocks[Math.floor(d)]++);\n    setAvailableBlocks([...availableBlocks]);\n  };\n\n  return (\n    <g transform={`translate(${scaleX(x)},0)`}>\n      <rect\n        ref={drop}\n        height={scaleY.range()[1]}\n        width={scaleX.paddingInner(0).bandwidth()}\n        fill=\"rgba(0,0,0,0)\"\n      />\n      <g transform={`translate(0,${scaleY(scaleY.domain()[1])})`}>\n        <g\n          transform={`translate(${\n            barWidth && scaleX ? scaleX.bandwidth() / 2 - barWidth / 2 : 0\n          }, -10)`}\n        >\n          <g transform={`translate(0,${-2 * BLOCK_PADDING})`}>\n            {!isOver && blocks.length === 0 && (\n              <Placeholder barWidth={barWidth} />\n            )}\n          </g>\n          <Bar\n            barWidth={barWidth}\n            blocks={blocks}\n            onBlockDrag={removeBlocks}\n            onFailedDrop={onFailedDrop}\n            showTop={!isOver}\n          />\n          {isOver && (\n            <g transform={`translate(0,${-topY})`}>\n              <Bar\n                barWidth={barWidth}\n                blocks={hoverBlocks}\n                onBlockDrag={(i) => removeBlocks(i)}\n                className={cn.ghostBar}\n              />\n            </g>\n          )}\n        </g>\n        <foreignObject\n          x={0}\n          y={0}\n          width={scaleX.bandwidth()}\n          height={200}\n        >\n          {children}\n        </foreignObject>\n      </g>\n    </g>\n  );\n};\n","import { useDragLayer } from \"react-dnd\";\nimport { blocksDndType, datasetDndType } from \"../config\";\nimport cn from \"./index.module.css\";\nimport { StaticDatasetBlock } from \"../DatasetBlock\";\nimport { Bar } from \"../Bar\";\n\nconst layerStyles = {\n  position: \"fixed\",\n  pointerEvents: \"none\",\n  zIndex: 1000,\n  left: 0,\n  top: 0,\n  width: \"100%\",\n  height: \"100%\",\n};\n\nfunction getItemStyles(initialOffset, currentOffset, itemType, item) {\n  if (!initialOffset || !currentOffset) {\n    return {\n      display: \"none\",\n    };\n  }\n  let { x, y } = currentOffset;\n\n  if (itemType === blocksDndType && item.blocks.length > 1) {\n    y = y - item.blocks.slice(1).reduce((a, b) => a + b, 0) * item.width;\n  }\n\n  const transform = `translate(${x}px, ${y}px)`;\n  return {\n    transform,\n    WebkitTransform: transform,\n  };\n}\n\nexport const CustomDragLayer = (props) => {\n  const { itemType, isDragging, item, initialOffset, currentOffset } =\n    useDragLayer((monitor) => ({\n      item: monitor.getItem(),\n      itemType: monitor.getItemType(),\n      initialOffset: monitor.getInitialSourceClientOffset(),\n      currentOffset: monitor.getSourceClientOffset(),\n      isDragging: monitor.isDragging(),\n    }));\n\n  function renderItem() {\n    switch (itemType) {\n      case blocksDndType:\n        const { width, blocks } = item;\n        const height = blocks.reduce((a, b) => a + b, 0) * width + 25;\n        return (\n          <div className={cn.container}>\n            <svg height={height} width={width + 25}>\n              <g transform={`translate(0,${height})`}>\n                <Bar blocks={blocks} barWidth={width} />\n              </g>\n            </svg>\n          </div>\n        );\n      case datasetDndType:\n        return (\n          <StaticDatasetBlock\n            className={cn.container}\n            isTop={true}\n            barWidth={item.width}\n            height={item.height}\n            yShift={-25}\n            wrapSvg={true}\n            dataset={item}\n          />\n        );\n      default:\n        return null;\n    }\n  }\n  if (!isDragging) {\n    document.body.classList.remove(\"grabbing\");\n    return null;\n  }\n\n  document.body.classList.add(\"grabbing\");\n\n  return (\n    <div style={layerStyles}>\n      <div style={getItemStyles(initialOffset, currentOffset, itemType, item)}>\n        {renderItem()}\n      </div>\n    </div>\n  );\n};\n","var _circle, _line, _line2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgCircleCheckMark(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 35,\n    height: 35,\n    viewBox: \"0 0 35 35\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 17.5,\n    cy: 17.5,\n    r: 16.75,\n    stroke: \"black\",\n    strokeWidth: 1.5\n  })), _line || (_line = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 6.83211,\n    y1: 18.2514,\n    x2: 14.4154,\n    y2: 25.8347,\n    stroke: \"black\",\n    strokeWidth: 2\n  })), _line2 || (_line2 = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 13.0014,\n    y1: 25.8344,\n    x2: 28.1681,\n    y2: 10.6677,\n    stroke: \"black\",\n    strokeWidth: 2\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCircleCheckMark);\nexport default __webpack_public_path__ + \"static/media/circle-check-mark.f1b3637e.svg\";\nexport { ForwardRef as ReactComponent };","var _line, _line2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgChevronUp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 8,\n    viewBox: \"0 0 24 8\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _line || (_line = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 12.4472,\n    y1: 0.894427,\n    x2: 0.447214,\n    y2: 6.89443,\n    stroke: \"black\",\n    strokeWidth: 2\n  })), _line2 || (_line2 = /*#__PURE__*/React.createElement(\"line\", {\n    y1: -1,\n    x2: 13.4164,\n    y2: -1,\n    transform: \"matrix(0.894427 0.447214 0.447214 -0.894427 12 0)\",\n    stroke: \"black\",\n    strokeWidth: 2\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgChevronUp);\nexport default __webpack_public_path__ + \"static/media/chevron-up.43cdd991.svg\";\nexport { ForwardRef as ReactComponent };","var _line, _line2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgChevronDown(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 8,\n    viewBox: \"0 0 24 8\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _line || (_line = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 11.5528,\n    y1: 7.10557,\n    x2: 23.5528,\n    y2: 1.10557,\n    stroke: \"black\",\n    strokeWidth: 2\n  })), _line2 || (_line2 = /*#__PURE__*/React.createElement(\"line\", {\n    y1: -1,\n    x2: 13.4164,\n    y2: -1,\n    transform: \"matrix(-0.894427 -0.447214 -0.447214 0.894427 12 8)\",\n    stroke: \"black\",\n    strokeWidth: 2\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgChevronDown);\nexport default __webpack_public_path__ + \"static/media/chevron-down.89bc78bb.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useContext, useEffect, useMemo } from \"react\";\nimport cn from \"./index.module.css\";\nimport { scaleBand } from \"d3-scale\";\n\nimport {\n  cx,\n  fieldsToBlockSums,\n  formatNumberWithSuffix,\n  updateExtent,\n} from \"../../../utils\";\nimport { EMPTY_DATASET, FONT_ASPECT_RATIO } from \"../../../constants\";\n\nimport { Context } from \"../Context\";\nimport { InteractiveBar } from \"../Bar\";\nimport { ReactComponent as CheckMarkIcon } from \"../../../static-assets/icons/circle-check-mark.svg\";\nimport { ReactComponent as ChevronUp } from \"../../../static-assets/icons/chevron-up.svg\";\nimport { ReactComponent as ChevronDown } from \"../../../static-assets/icons/chevron-down.svg\";\n\nfunction getMaxFontSizeForWidth(bandwidth, length) {\n  const fontSize = Math.round((bandwidth / length) * FONT_ASPECT_RATIO);\n  return Math.min(fontSize, 15);\n}\n\nconst Label = ({\n  label,\n  fontSize,\n  correctionFeedback,\n  allCorrect,\n  absoluteValue,\n  unit,\n  labelValueFontSize,\n}) => {\n  // normal label\n  if (correctionFeedback == null)\n    return (\n      <div\n        className={cn.label}\n        style={{\n          fontSize,\n        }}\n      >\n        {label}\n      </div>\n    );\n\n  // label with absolute values\n  if (allCorrect)\n    return (\n      <div className={cn.label}>\n        <div\n          style={{\n            fontSize,\n          }}\n        >\n          {label}\n        </div>\n\n        <div\n          className={cn.labelValue}\n          style={{\n            fontSize: labelValueFontSize,\n          }}\n        >\n          {formatNumberWithSuffix(absoluteValue, true) + \" \" + unit}\n        </div>\n      </div>\n    );\n\n  // label with feedback\n  let feedbackContent = null;\n  const numBlocks = Math.abs(correctionFeedback);\n  if (numBlocks === 0) {\n    feedbackContent = <CheckMarkIcon />;\n  } else {\n    const blocks = Array(numBlocks <= 3 ? numBlocks : 2)\n      .fill(0)\n      .map((d, i) => <div key={i} className={cn.feedbackBlock} />);\n\n    if (correctionFeedback < 0) {\n      feedbackContent = (\n        <div className={cn.feedbackBlocks}>\n          <ChevronUp />\n          {blocks}\n          {numBlocks > 3 && (\n            <div className={cx(cn.openBlock, cn.openBlockBottom)}>\n              {numBlocks}\n            </div>\n          )}\n        </div>\n      );\n    } else if (correctionFeedback > 0) {\n      feedbackContent = (\n        <div className={cn.feedbackBlocks}>\n          {numBlocks > 3 && (\n            <div className={cx(cn.openBlock, cn.openBlockTop)}>\n              <div className={cn.openBlockTopNumber}>{numBlocks}</div>\n            </div>\n          )}\n          {blocks}\n          <ChevronDown />\n        </div>\n      );\n    }\n  }\n\n  return (\n    <div className={cn.feedbackContainer}>\n      <div className={cn.feedbackSide}>{feedbackContent}</div>\n      <div\n        className={cn.feedbackLabel}\n        style={{\n          fontSize,\n        }}\n      >\n        {label}\n      </div>\n    </div>\n  );\n};\n\nexport const InteractiveBars = ({\n  barWidth,\n  width,\n  getX,\n  scaleY,\n}) => {\n  const {\n    fields,\n    setFields,\n    solution,\n    dataset: rawDataset,\n  } = useContext(Context);\n  const dataset = rawDataset || EMPTY_DATASET;\n\n  const scaleX = useMemo(() => {\n    return scaleBand()\n      .domain(dataset?.data?.map(getX) || [])\n      .range([0, width])\n      .paddingInner(0.2);\n  }, [dataset?.data, getX, width]);\n\n  const addBlocks = (iField, blocks) => {\n    fields[iField] = fields[iField].concat(blocks);\n    setFields([...fields]);\n  };\n\n  const correctionFeedback = useMemo(() => {\n    if (!solution) return Array(5);\n    return fieldsToBlockSums(fields).map((d, i) => d - solution[i]);\n  }, [fields, solution]);\n\n  const removeBlocks = (iField, iBlock) => {\n    const removedBlocks = fields[iField].slice(iBlock, fields[iField].length);\n    fields[iField] = fields[iField].slice(0, iBlock);\n    setFields([...fields]);\n    return { blocks: removedBlocks };\n  };\n\n  const labelFontsize = useMemo(() => {\n    if (!rawDataset) return;\n    const maxLabelLength = Math.max(...dataset.data.map((d) => d.label.length));\n    return getMaxFontSizeForWidth(\n      scaleX.bandwidth(),\n      Math.min(22, maxLabelLength)\n    );\n  }, [dataset.data, rawDataset, scaleX]);\n\n  const labelValueFontSize = useMemo(() => {\n    if (!rawDataset) return;\n    const maxValue =\n      formatNumberWithSuffix(\n        Math.max(...dataset.data.map((d) => d.value)),\n        true\n      ) +\n      \" \" +\n      dataset.unit;\n    const maxValueLength = maxValue.length + 1;\n    return getMaxFontSizeForWidth(scaleX.bandwidth(), maxValueLength);\n  }, [dataset.data, dataset.unit, rawDataset, scaleX]);\n\n  return (\n    <g>\n      {dataset.data.map((d, i) => (\n        <InteractiveBar\n          key={i}\n          x={d.label}\n          scaleX={scaleX}\n          scaleY={scaleY}\n          barWidth={barWidth}\n          blocks={fields[i]}\n          addBlocks={(blocks) => addBlocks(i, blocks)}\n          removeBlocks={(iBlock) => removeBlocks(i, iBlock)}\n        >\n          {rawDataset != null && (\n            <Label\n              allCorrect={correctionFeedback.every((d) => d === 0)}\n              key={i}\n              label={d.label}\n              unit={dataset.unit}\n              absoluteValue={d.value}\n              correctionFeedback={correctionFeedback[i]}\n              fontSize={labelFontsize}\n              labelValueFontSize={labelValueFontSize}\n            />\n          )}\n        </InteractiveBar>\n      ))}\n    </g>\n  );\n};\n","import { useContext, useMemo } from \"react\";\nimport { Context } from \"../Context\";\n\nimport cn from \"./index.module.css\";\n\nfunction sum(a, b) {\n  return a + b;\n}\n\nexport const MainDisplay = ({ width }) => {\n  const { dataset, solution, fields } = useContext(Context);\n\n  const progress = useMemo(() => {\n    if (!fields || !solution || !dataset) return 0;\n    const diff = fields\n      .map((d) => d.reduce(sum, 0) * 2) // get num blocks\n      .map((d, i) => d - solution[i])\n      .map(Math.abs)\n      .reduce(sum, 0);\n    const value = Math.max(1 - diff / solution.reduce(sum, 0), 0);\n    return Math.round(value * 100);\n  }, [dataset, fields, solution]);\n\n  let content = \"Wähle einen Datensatz\";\n  if (dataset && !solution) {\n    content = \"Schätze die Daten\";\n  } else if (dataset && solution) {\n    const left = progress - (progress === 100 ? 28 : 22) + \"%\";\n    content = (\n      <div className={cn.feedback}>\n        <div className={cn.progressBar}>\n          <div className={cn.progress} style={{ width: progress + \"%\" }} />\n          <div\n            className={\n              progress < 75 ? cn.progressLabelRight : cn.progressLabelLeft\n            }\n            style={{ left }}\n          >\n            {progress}%\n          </div>\n        </div>\n        {progress !== 100\n          ? \"Korrigiere die Schätzung\"\n          : \"Super, alles richtig!\"}\n      </div>\n    );\n  }\n\n  return (\n    <div className={cn.mainDisplay} style={{ width }}>\n      {content}\n    </div>\n  );\n};\n","import React, { useContext, useMemo } from \"react\";\nimport { scaleLinear } from \"d3-scale\";\nimport { DndProvider } from \"react-dnd\";\nimport MouseBackEnd from \"react-dnd-mouse-backend\";\n\nimport { Block, Placeholder } from \"./Block\";\nimport { CustomDragLayer } from \"./CustomDragLayer\";\nimport { InteractiveBars } from \"./InteractiveBars\";\nimport { useDimensions } from \"../../hooks/useDimensions\";\nimport { DatasetBlock, DatasetPlaceholder } from \"./DatasetBlock\";\nimport { Context, ContextProvider } from \"./Context\";\nimport { MainDisplay } from \"./MainDisplay\";\nimport { useWindowWidth } from \"../../hooks/useWindowWidth\";\nimport { ReactComponent as CheckMarkIcon } from \"../../static-assets/icons/circle-check-mark.svg\";\n\nimport cn from \"./index.module.css\";\nimport { fieldsToBlockSums } from \"../../utils\";\n\nfunction findDataset(availableDatasets, id) {\n  for (const group of availableDatasets) {\n    for (const dataset of group.datasets) {\n      if (dataset.id === id) return dataset;\n    }\n  }\n}\n\nfunction getError(solution, blockSums) {\n  return solution.reduce(\n    (prev, cur, i) => prev + Math.abs(cur - blockSums[i]),\n    0\n  );\n}\n\nfunction findClosestSolution(solutions, fields) {\n  const blockSums = fieldsToBlockSums(fields);\n  return solutions.reduce(\n    (bestSolution, solution) => {\n      const error = getError(solution, blockSums);\n      if (bestSolution.error == null || error < bestSolution.error) {\n        return { error, solution };\n      }\n      return bestSolution;\n    },\n    { solution: null, error: null }\n  ).solution;\n}\n\nconst Content = () => {\n  const [ref, dimensions] = useDimensions();\n  const {\n    availableBlocks,\n    setAvailableBlocks,\n    dataset,\n    setDataset,\n    availableDatasets,\n    setAvailableDatasets,\n    solution,\n    setSolution,\n    fields,\n  } = useContext(Context);\n\n  const height = useMemo(() => dimensions.height - 100, [dimensions.height]);\n  const scaleY = useMemo(\n    () => scaleLinear().domain([9, 0]).range([0, height]).nice(),\n    [height]\n  );\n\n  const windowWidth = useWindowWidth();\n\n  const scaledBlockSize = Math.min(height / 7, dimensions.width / 7);\n\n  const removeAvailableBlock = (i) => {\n    availableBlocks[i] = Math.max(availableBlocks[i] - 1, 0);\n    setAvailableBlocks([...availableBlocks]);\n  };\n\n  const addAvailableBlock = (i) => {\n    availableBlocks[i] = availableBlocks[i] + 1;\n    setAvailableBlocks([...availableBlocks]);\n  };\n\n  const hideDataset = (id) => {\n    const datasetToHide = findDataset(availableDatasets, id);\n    datasetToHide.hidden = true;\n    setAvailableDatasets([...availableDatasets]);\n  };\n\n  const unhideDataset = (id) => {\n    const datasetToHide = findDataset(availableDatasets, id);\n    datasetToHide.hidden = false;\n    setAvailableDatasets([...availableDatasets]);\n  };\n\n  const isMobile = windowWidth <= 768;\n\n  if (isMobile)\n    return (\n      <div className={cn.noMobileContainer}>\n        <div className={cn.noMobileMessage}>\n          Seite nicht verfügbar für mobile Endgeräte oder schmale\n          Browser-Fenster.\n        </div>\n      </div>\n    );\n\n  return (\n    <div className={cn.container}>\n      <div className={cn.leftContainer}>\n        <div className={cn.leftMain}>\n          <div className={cn.selectedDataSetContainer}>\n            {dataset ? (\n              <DatasetBlock\n                isTop={true}\n                barWidth={scaledBlockSize}\n                height={scaledBlockSize}\n                wrapSvg={true}\n                dataset={dataset}\n                onDrag={() => {\n                  setDataset(null);\n                  setSolution(null);\n                }}\n                onFailedDrop={() => {\n                  unhideDataset(dataset.id);\n                }}\n              />\n            ) : (\n              <DatasetPlaceholder\n                className={cn.dataSetPlaceholder}\n                barWidth={scaledBlockSize}\n                onDrop={(item) => {\n                  setDataset(item);\n                }}\n              />\n            )}\n            <MainDisplay width={scaledBlockSize} />\n          </div>\n          <div className={cn.chart} ref={ref}>\n            <svg\n              height={height + 50}\n              width={dimensions.width}\n              style={{ position: \"absolute\" }}\n            >\n              <InteractiveBars\n                barWidth={scaledBlockSize}\n                getX={(d) => d.label}\n                height={height}\n                width={dimensions.width - 50}\n                scaleY={scaleY}\n              />\n            </svg>\n          </div>\n        </div>\n        <button\n          className={cn.button}\n          style={{ visibility: dataset && !solution ? \"visible\" : \"hidden\" }}\n          onClick={() =>\n            setSolution(findClosestSolution(dataset.solutions, fields))\n          }\n        >\n          <CheckMarkIcon className={cn.checkIcon} />\n          Zeige mir die Lösung\n        </button>\n      </div>\n\n      <div className={cn.toolsContainer}>\n        <div\n          className={cn.blocks}\n          style={{ height: 3 * scaledBlockSize + \"px\" }}\n        >\n          {availableBlocks.map((d, i) => {\n            const size = Math.pow(2, i - 1);\n            return (\n              <div className={cn.block} key={i}>\n                {d > 0 ? (\n                  <Block\n                    isTop={true}\n                    barWidth={scaledBlockSize}\n                    size={size}\n                    wrapSvg={true}\n                    onDrag={() => removeAvailableBlock(i)}\n                    onFailedDrop={() => addAvailableBlock(i)}\n                  />\n                ) : (\n                  <Placeholder barWidth={scaledBlockSize} wrapSvg={true} />\n                )}\n                {\n                  <div\n                    className={cn.blocksLeftLabel}\n                    style={{\n                      paddingRight: scaledBlockSize / 5,\n                      visibility: d < 4 ? \"visible\" : \"hidden\",\n                    }}\n                  >\n                    {d} übrig\n                  </div>\n                }\n              </div>\n            );\n          })}\n        </div>\n        <CustomDragLayer snapToGrid={false} />\n\n        {availableDatasets.map((group) => (\n          <div>\n            <div className={cn.titleContainer}>\n              <div className={cn.icon}>{group.icon}</div>\n              <div className={cn.groupTitle}>{group.title}</div>\n            </div>\n            <div\n              className={cn.datasets}\n              style={{ minHeight: scaledBlockSize * 2 }}\n            >\n              {group.datasets.map((d, i) =>\n                d.hidden ? (\n                  <div\n                    className={cn.datasetWithLabel}\n                    style={{\n                      position: \"relative\",\n                      bottom: 47,\n                    }}\n                  >\n                    <DatasetPlaceholder\n                      barWidth={scaledBlockSize}\n                      wrapSvg={true}\n                      className={cn.dataSetPlaceholder}\n                      onDrop={(item) => unhideDataset(item.id)}\n                    />\n                  </div>\n                ) : (\n                  <div className={cn.datasetWithLabel}>\n                    <DatasetBlock\n                      key={d.id}\n                      isTop={true}\n                      barWidth={scaledBlockSize}\n                      height={scaledBlockSize}\n                      wrapSvg={true}\n                      dataset={d}\n                      onDrag={() => hideDataset(d.id)}\n                      onFailedDrop={() => unhideDataset(d.id)}\n                    />\n                    <div\n                      className={cn.source}\n                      style={{\n                        paddingRight: scaledBlockSize / 5,\n                        fontSize: scaledBlockSize / 8,\n                      }}\n                    >\n                      Quelle: {d.source}\n                    </div>\n                  </div>\n                )\n              )}\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport const InteractiveBarChart = () => (\n  <ContextProvider>\n    <DndProvider backend={MouseBackEnd}>\n      <Content />\n    </DndProvider>\n  </ContextProvider>\n);\n","import { useEffect, useState, useCallback } from \"react\";\n\nimport debounce from \"debounce\";\n\nexport const useDimensions = function (\n  initialSize = { width: null, height: null }\n) {\n  const [size, setSize] = useState(initialSize);\n  const [node, setNode] = useState(null);\n\n  const ref = useCallback((node) => {\n    setNode(node);\n  }, []);\n\n  useEffect(() => {\n    const handleResize = () => {\n      window.requestAnimationFrame(() => {\n        if (node) {\n          setSize({\n            width: node.clientWidth,\n            height: node.clientHeight,\n          });\n        }\n\n        window.requestAnimationFrame(() => {\n          if (node) {\n            setSize({\n              width: node.clientWidth,\n              height: node.clientHeight,\n            });\n          }\n        });\n      });\n    };\n    const debouncedHandleResize = debounce(handleResize, 100);\n\n    handleResize();\n\n    window.addEventListener(\"resize\", debouncedHandleResize);\n    window.addEventListener(\"orientationchange\", debouncedHandleResize);\n\n    return () => {\n      window.removeEventListener(\"resize\", debouncedHandleResize);\n      window.removeEventListener(\"orientationchange\", debouncedHandleResize);\n    };\n  }, [node]);\n\n  return [ref, size, node];\n};\n","import { useEffect, useState } from \"react\";\n\nexport function useWindowWidth() {\n  const [width, setWidth] = useState(window.innerWidth);\n\n  function handleWindowSizeChange() {\n    setWidth(window.innerWidth);\n  }\n  useEffect(() => {\n    window.addEventListener(\"resize\", handleWindowSizeChange);\n    return () => {\n      window.removeEventListener(\"resize\", handleWindowSizeChange);\n    };\n  }, []);\n\n  return width;\n}\n\n","import React from \"react\";\n\nimport cn from \"./app.module.css\";\nimport { InteractiveBarChart } from \"./components/InteractiveBarChart\";\n\nfunction App() {\n  return (\n    <div className={cn.container}>\n      <InteractiveBarChart />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"InteractiveBars_label__3KZTc\",\"feedbackContainer\":\"InteractiveBars_feedbackContainer__3Z6uI\",\"feedbackLabel\":\"InteractiveBars_feedbackLabel__2auH0\",\"feedbackSide\":\"InteractiveBars_feedbackSide__1ZgyS\",\"feedbackBlocks\":\"InteractiveBars_feedbackBlocks__xszh3\",\"feedbackBlock\":\"InteractiveBars_feedbackBlock__2NQFm\",\"openBlock\":\"InteractiveBars_openBlock__7EJfN\",\"openBlockBottom\":\"InteractiveBars_openBlockBottom__11Hc5\",\"openBlockTop\":\"InteractiveBars_openBlockTop__2cnNk\",\"openBlockTopNumber\":\"InteractiveBars_openBlockTopNumber__3YaMb\",\"labelValue\":\"InteractiveBars_labelValue__3L1v8\"};"],"sourceRoot":""}
{"version":3,"sources":["components/InteractiveBarChart/Block/index.module.css","components/InteractiveBarChart/DatasetBlock/index.module.css","components/InteractiveBarChart/MainDisplay/index.module.css","components/MinimalCharts/Bars/index.module.css","components/MinimalCharts/BoxPlot/index.module.css","components/InteractiveBarChart/CustomDragLayer/index.module.css","app.module.css","components/MinimalCharts/Line/index.module.css","components/MinimalCharts/XAxis/index.module.css","components/MinimalCharts/YAxis/index.module.css","components/InteractiveBarChart/Bar/index.module.css","components/InteractiveBarChart/index.module.css","components/MinimalCharts/Chart/index.js","utils.js","components/MinimalCharts/Line/index.js","static-assets/icons/migration.svg","components/InteractiveBarChart/config.js","constants.js","components/InteractiveBarChart/Block/index.js","components/InteractiveBarChart/DatasetBlock/index.js","static-assets/icons/virus.svg","static-assets/icons/energy-produce.svg","static-assets/icons/age-groups.svg","config.js","components/InteractiveBarChart/Context/index.js","components/InteractiveBarChart/Bar/index.js","components/InteractiveBarChart/CustomDragLayer/index.js","static-assets/icons/circle-check-mark.svg","static-assets/icons/chevron-up.svg","static-assets/icons/chevron-down.svg","components/InteractiveBarChart/InteractiveBars/index.js","components/InteractiveBarChart/MainDisplay/index.js","components/InteractiveBarChart/index.js","hooks/useDimensions.js","hooks/useWindowWidth.js","App.js","reportWebVitals.js","index.js","components/InteractiveBarChart/InteractiveBars/index.module.css"],"names":["module","exports","Chart","data","getX","getY","customScaleY","scaleY","children","height","width","margin","useState","yExtent","setYExtent","xExtent","setXExtent","scaleX","useMemo","scaleTime","domain","range","scaleLinear","nice","transform","React","Children","map","child","cloneElement","props","cx","classNames","join","updateExtent","extentArr","get","newExtent","extent","Math","max","min","fieldsToBlockSums","fields","d","reduce","a","b","formattingConfig","factor","singular","plural","short","formatNumberWithSuffix","x","console","log","levelConfig","find","num","round","suffix","_path","_path2","_path3","_path4","_path5","blocksDndType","datasetDndType","EMPTY_DATASET","label","getXStretch","barWidth","getYStretch","Placeholder","wrapSvg","xStretch","yStretch","content","className","cn","placeholder","shapeRendering","svgWrapper","StaticBlock","forwardRef","ref","disableHover","size","yShift","isTop","bandwidth","BLOCK_PADDING","style","cursor","bar","rightSide","top","padding","Block","onDrag","onFailedDrop","useDrag","collect","monitor","anythingIsDragging","getItem","type","item","items","blocks","end","didDrop","collected","drag","DatasetPlaceholder","onDrop","useDrop","accept","drop","isOver","placeholderContainer","StaticDatasetBlock","ghostBlock","getTitleFontsize","length","lineLength","fontSize","rawHeight","dataset","y","overflow","title","DatasetBlock","_extends","Object","assign","target","i","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgMigration","_ref","svgRef","titleId","viewBox","fill","xmlns","id","stroke","fillRule","clipRule","_circle","_circle2","_circle3","_rect","_rect2","_rect3","_rect4","_rect5","_rect6","_rect7","_rect8","_rect9","_rect10","_rect11","_rect12","_rect13","_rect14","_rect15","_rect16","ForwardRef","SvgVirus","cy","r","_path6","_path7","_path8","_path9","_path10","_path11","_path12","_path13","_path14","SvgEnergyProduce","strokeLinecap","SvgAgeGroups","strokeWidth","normalGroups","icon","datasets","memoryGroups","datasetGroups","window","location","href","includes","group","Context","createContext","availableBlocks","setAvailableBlocks","setFields","setDataset","availableDatasets","setAvailableDatasets","solution","setSolution","ContextProvider","Provider","value","Bar","onBlockDrag","showTop","prev","block","renderedBlocks","InteractiveBar","addBlocks","removeBlocks","useContext","hoverItem","hoverBlocks","topY","paddingInner","forEach","floor","ghostBar","layerStyles","position","pointerEvents","zIndex","left","getItemStyles","initialOffset","currentOffset","itemType","display","slice","WebkitTransform","_line","_line2","CustomDragLayer","useDragLayer","getItemType","getInitialSourceClientOffset","getSourceClientOffset","isDragging","document","body","classList","add","container","renderItem","remove","SvgCircleCheckMark","x1","y1","x2","y2","SvgChevronUp","SvgChevronDown","getMaxFontSizeForWidth","Label","correctionFeedback","allCorrect","absoluteValue","unit","labelValueFontSize","labelValue","feedbackContent","numBlocks","abs","Array","feedbackBlock","feedbackBlocks","openBlock","openBlockBottom","openBlockTop","openBlockTopNumber","feedbackContainer","feedbackSide","feedbackLabel","InteractiveBars","rawDataset","useEffect","scaleBand","labelFontsize","maxLabelLength","maxValueLength","iField","concat","iBlock","removedBlocks","every","sum","MainDisplay","progress","diff","feedback","progressBar","progressLabelRight","progressLabelLeft","mainDisplay","findDataset","findClosestSolution","solutions","blockSums","bestSolution","error","cur","getError","Content","initialSize","setSize","node","setNode","useCallback","handleResize","requestAnimationFrame","clientWidth","clientHeight","debouncedHandleResize","debounce","addEventListener","removeEventListener","useDimensions","dimensions","windowWidth","innerWidth","setWidth","handleWindowSizeChange","useWindowWidth","scaledBlockSize","unhideDataset","hidden","noMobileContainer","noMobileMessage","leftContainer","leftMain","selectedDataSetContainer","dataSetPlaceholder","chart","button","visibility","onClick","toolsContainer","pow","removeAvailableBlock","addAvailableBlock","blocksLeftLabel","paddingRight","snapToGrid","titleContainer","groupTitle","minHeight","datasetWithLabel","InteractiveBarChart","DndProvider","backend","MouseBackEnd","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.04c3300f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"bar\":\"Block_bar__1iGFW\",\"rightSide\":\"Block_rightSide__qrtXf\",\"top\":\"Block_top__1F4Ag\",\"ghostBar\":\"Block_ghostBar__9Q_9b\",\"svgWrapper\":\"Block_svgWrapper__2cxW7\",\"padding\":\"Block_padding__2aUP3\",\"placeholder\":\"Block_placeholder__1sYx7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bar\":\"DatasetBlock_bar__3D2je\",\"rightSide\":\"DatasetBlock_rightSide__3mdrd\",\"top\":\"DatasetBlock_top__18BMo\",\"ghostBar\":\"DatasetBlock_ghostBar__ekm9a\",\"svgWrapper\":\"DatasetBlock_svgWrapper__rmvSm\",\"placeholderContainer\":\"DatasetBlock_placeholderContainer__tOHTT\",\"title\":\"DatasetBlock_title__3Kgkt\",\"ghostBlock\":\"DatasetBlock_ghostBlock__33H39\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainDisplay\":\"MainDisplay_mainDisplay__10_YZ\",\"feedback\":\"MainDisplay_feedback__5ZV0K\",\"progressBar\":\"MainDisplay_progressBar__2Fz9h\",\"progress\":\"MainDisplay_progress__1yFwD\",\"progressLabelRight\":\"MainDisplay_progressLabelRight__34k46\",\"progressLabelLeft\":\"MainDisplay_progressLabelLeft__3cpWa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bar\":\"Bars_bar__1xEPI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"line\":\"BoxPlot_line__1FYpY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"CustomDragLayer_container__1abtC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"app_container__2JKVN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"line\":\"Line_line__38vbU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tick\":\"XAxis_tick__cA7Dh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tick\":\"YAxis_tick__1TPev\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ghostBar\":\"Bar_ghostBar__1RlHv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"titleContainer\":\"InteractiveBarChart_titleContainer__8lerP\",\"icon\":\"InteractiveBarChart_icon__3DXR5\",\"groupTitle\":\"InteractiveBarChart_groupTitle__3Si6e\",\"leftContainer\":\"InteractiveBarChart_leftContainer__1sg8x\",\"leftMain\":\"InteractiveBarChart_leftMain__1jqjh\",\"button\":\"InteractiveBarChart_button__i23Yb\",\"selectedDataSetContainer\":\"InteractiveBarChart_selectedDataSetContainer__1uW0u\",\"dataSetPlaceholder\":\"InteractiveBarChart_dataSetPlaceholder__2pX6J\",\"datasets\":\"InteractiveBarChart_datasets__3ucgV\",\"chart\":\"InteractiveBarChart_chart__1-1XT\",\"container\":\"InteractiveBarChart_container__2QaEl\",\"toolsContainer\":\"InteractiveBarChart_toolsContainer__2qo98\",\"blocks\":\"InteractiveBarChart_blocks__RNieA\",\"block\":\"InteractiveBarChart_block__3-8nQ\",\"blocksLeftLabel\":\"InteractiveBarChart_blocksLeftLabel__FvD23\",\"datasetWithLabel\":\"InteractiveBarChart_datasetWithLabel__2yTpO\",\"source\":\"InteractiveBarChart_source__2i80c\",\"noMobileContainer\":\"InteractiveBarChart_noMobileContainer__3Za_F\",\"noMobileMessage\":\"InteractiveBarChart_noMobileMessage__1CsKQ\"};","import React, { useMemo, useState } from \"react\";\nimport { scaleTime, scaleLinear } from \"d3-scale\";\n\nexport const Chart = ({\n  data,\n  getX,\n  getY,\n  scaleY: customScaleY,\n  children,\n  height = 200,\n  width = 600,\n  margin = [30, 30, 50, 30],\n}) => {\n  const [yExtent, setYExtent] = useState([0, 0]);\n  const [xExtent, setXExtent] = useState();\n\n  const scaleX = useMemo(\n    () =>\n      scaleTime()\n        .domain(xExtent || [0, 0])\n        .range([0, width]),\n    [width, xExtent]\n  );\n\n  const scaleY = useMemo(\n    () =>\n      customScaleY ||\n      scaleLinear()\n        .domain(yExtent || [0, 0])\n        .range([0, height])\n        .nice(),\n    [customScaleY, height, yExtent]\n  );\n\n  return (\n    <svg\n      height={margin[0] + height + margin[2]}\n      width={margin[3] + width + margin[1]}\n    >\n      <g transform={`translate(${margin[3]}, ${margin[0]})`}>\n        {React.Children.map(children, (child) =>\n          React.cloneElement(child, {\n            height,\n            width,\n            getX,\n            getY,\n            scaleX,\n            scaleY,\n            xExtent,\n            data,\n            setXExtent,\n            yExtent,\n            setYExtent,\n            ...child.props,\n          })\n        )}\n        )\n      </g>\n    </svg>\n  );\n};\n","import { extent } from \"d3-array\";\n\nexport function cx(...classNames) {\n  return classNames.join(\" \");\n}\n\nexport function updateExtent(extentArr, get, data) {\n  const newExtent = extent(data, get);\n  return [\n    Math.max(...(extentArr || []), ...newExtent),\n    Math.min(...(extentArr || []), ...newExtent),\n  ];\n}\n\nexport function fieldsToBlockSums(fields) {\n  return fields.map((d) => d.reduce((a, b) => a + b, 0) * 2);\n}\n\nconst formattingConfig = [\n  {\n    factor: 1000000000000,\n    singular: \"Billion\",\n    plural: \"Billionen\",\n    short: \"Bil.\",\n  },\n  {\n    factor: 1000000000,\n    singular: \"Milliarde\",\n    plural: \"Milliarden\",\n    short: \"Mrd.\",\n  },\n  {\n    factor: 1000000,\n    singular: \"Million\",\n    plural: \"Millionen\",\n    short: \"Mio.\",\n  },\n  {\n    factor: 1000,\n    singular: \"Tausend\",\n    plural: \"Tausend\",\n    short: \"Tsd.\",\n  },\n];\n\nexport function formatNumberWithSuffix(x, short) {\n  console.log(x, short);\n  const levelConfig = formattingConfig.find((d) => d.factor <= x);\n  if (!levelConfig) return `${x}`;\n  let num = x / levelConfig.factor;\n  num = Math.round(num * 10) / 10;\n  const suffix = short\n    ? levelConfig.short\n    : num === 1\n    ? levelConfig.singular\n    : levelConfig.plural;\n  return `${num}\\u2009${suffix}`;\n}\n","import React, { useEffect, useMemo } from 'react';\nimport { line } from 'd3-shape';\nimport cn from './index.module.css';\nimport { cx, updateExtent } from '../../../utils';\n\nexport const Line = (props) => {\n  const {\n    data,\n    getX,\n    getY,\n    scaleX,\n    scaleY,\n    className,\n    setXExtent,\n    setYExtent\n  } = props;\n\n  useEffect(() => {\n    setYExtent((yExtent) =>\n      updateExtent(yExtent, getY, data)\n    );\n    setXExtent((xExtent) =>\n      updateExtent(xExtent, getX, data)\n    );\n  }, [data, getX, getY, setXExtent, setYExtent]);\n\n  const path = useMemo(\n    () =>\n      line()\n        .x((d) => scaleX(getX(d)))\n        .y((d) => scaleY(getY(d)))(data),\n    [data, getX, getY, scaleY, scaleX]\n  );\n\n  return (\n    <path d={path} className={cx(cn.line, className)} />\n  );\n};\n","var _path, _path2, _path3, _path4, _path5;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgMigration(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 35,\n    height: 35,\n    viewBox: \"0 0 18 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.7617 10.2015H4.37247V8.37927L1 11.6379L4.37247 14.8874V13.1172H10.327M7.50062 13.1104H13.4551V11.2089L16.6724 14.6122L13.4551 18V16.1528H7.92457\",\n    stroke: \"black\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M14.9723 10.7374L15.6697 11.4751C16.5907 10.273 17.138 8.76936 17.138 7.13793C17.138 3.19576 13.9423 0 10.0001 0C6.05793 0 2.86217 3.19576 2.86217 7.13793C2.86217 7.36061 2.87237 7.5809 2.89232 7.79837L3.67769 7.03951L3.86857 6.85507C4.01638 3.59649 6.70502 1 10.0001 1C13.39 1 16.138 3.74805 16.138 7.13793C16.138 8.48258 15.7057 9.72623 14.9723 10.7374Z\",\n    fill: \"black\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.58614 1.39661L8.00014 2.81061C8.18768 2.99815 8.29303 3.2525 8.29303 3.51772V4.39619C8.29303 4.6614 8.39839 4.91576 8.58593 5.10329L9.39669 5.91406C9.58423 6.1016 9.68959 6.35595 9.68959 6.62117V7.26398C9.68959 7.65917 9.45685 8.01729 9.09572 8.17779L8.48696 8.44835C8.3591 8.50518 8.22074 8.53454 8.08082 8.53454H7.89718C7.56283 8.53454 7.2506 8.36744 7.06513 8.08924L6.10714 6.65225C5.92168 6.37405 5.60944 6.20695 5.27509 6.20695H3.32751\",\n    stroke: \"black\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.862 0.620605V1.98343C11.862 2.20575 11.7841 2.42103 11.6418 2.59182V2.59182C11.3271 2.96942 11.3523 3.52465 11.6999 3.87221L12.1898 4.3622C12.3774 4.54973 12.4827 4.80409 12.4827 5.0693V5.48268C12.4827 5.88261 12.8069 6.20681 13.2069 6.20681V6.20681C13.4348 6.20681 13.6494 6.0995 13.7862 5.91716L14.6655 4.74474C14.8543 4.49294 15.1507 4.34474 15.4655 4.34474H16.0517\",\n    stroke: \"black\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M16.3621 9.77587L15.1079 8.3963C14.9184 8.18782 14.6497 8.06897 14.368 8.06897H13.6728C13.4076 8.06897 13.1533 8.17433 12.9657 8.36186L12.6379 8.68966\",\n    stroke: \"black\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgMigration);\nexport default __webpack_public_path__ + \"static/media/migration.2b1e4c0d.svg\";\nexport { ForwardRef as ReactComponent };","export const blocksDndType = \"block\";\nexport const datasetDndType = \"dataset\";\n","export const EMPTY_DATASET = {\n  data: [\n    { label: \"1\" },\n    { label: \"2\" },\n    { label: \"3\" },\n    { label: \"4\" },\n    { label: \"5\" },\n  ],\n};\n\nexport const BLOCK_PADDING = 1;\n\n\nexport const FONT_ASPECT_RATIO = 85 / 50;","import { useDrag } from \"react-dnd\";\nimport React from \"react\";\n\nimport { blocksDndType } from \"../config\";\nimport cn from \"./index.module.css\";\nimport { BLOCK_PADDING } from \"../../../constants\";\n\nconst getXStretch = (barWidth) => barWidth / 5;\nconst getYStretch = (barWidth) => barWidth / 4;\n\nexport const Placeholder = ({ barWidth, wrapSvg }) => {\n  const width = barWidth;\n  const xStretch = getXStretch(barWidth);\n  const yStretch = getYStretch(barWidth);\n\n  const content = (\n    <path\n      className={cn.placeholder}\n      d={`M0 0 L${width} 0  L${\n        width + xStretch\n      } ${-yStretch} L${xStretch} ${-yStretch} Z`}\n      shapeRendering=\"crispEdges\"\n    />\n  );\n\n  return wrapSvg ? (\n    <svg height={25} width={barWidth + 25} className={cn.svgWrapper}>\n      {content}\n    </svg>\n  ) : (\n    content\n  );\n};\n\nexport const StaticBlock = React.forwardRef(\n  (\n    {\n      disableHover,\n      className,\n      barWidth,\n      scaleX,\n      size,\n      yShift = 0,\n      isTop,\n      wrapSvg,\n    },\n    ref\n  ) => {\n    const width = barWidth || scaleX?.bandwidth();\n    const height = barWidth * size - BLOCK_PADDING * 2;\n    const xStretch = getXStretch(barWidth);\n    const yStretch = getYStretch(barWidth);\n\n    const content = (\n      <g\n        ref={ref}\n        transform={`translate(${\n          barWidth && scaleX ? scaleX.bandwidth() / 2 - barWidth / 2 : 0\n        }, ${-yShift - BLOCK_PADDING})`}\n        className={className}\n        style={disableHover ? {} : { cursor: \"grab\" }}\n      >\n        <rect\n          className={cn.bar}\n          height={height}\n          width={width}\n          shapeRendering=\"crispEdges\"\n        />\n        <path\n          className={cn.rightSide}\n          d={`M${width} 0 L${width} ${height} L${width + xStretch} ${\n            height - yStretch\n          } L${width + xStretch} ${-yStretch} Z`}\n          shapeRendering=\"crispEdges\"\n        />\n\n        {isTop ? (\n          <path\n            className={cn.top}\n            d={`M0 0 L${width} 0  L${\n              width + xStretch\n            } ${-yStretch} L${xStretch} ${-yStretch} Z`}\n            shapeRendering=\"crispEdges\"\n          />\n        ) : (\n          <path\n            className={cn.padding}\n            d={`M0 0 L${width} 0  L${\n              width + xStretch\n            } ${-yStretch} L${xStretch} ${-yStretch} Z`}\n            shapeRendering=\"crispEdges\"\n          />\n        )}\n      </g>\n    );\n\n    return wrapSvg ? (\n      <svg height={height + 25} width={barWidth + 25} className={cn.svgWrapper}>\n        {content}\n      </svg>\n    ) : (\n      content\n    );\n  }\n);\n\nexport const Block = ({\n  className,\n  size = 1,\n  barWidth,\n  scaleX,\n  yShift = 0,\n  onDrag,\n  onFailedDrop,\n  isTop,\n  wrapSvg,\n}) => {\n  const [collected, drag] = useDrag(() => {\n    return {\n      collect: (monitor) => ({\n        anythingIsDragging: monitor.getItem() !== null,\n      }),\n      type: blocksDndType,\n      item: () => {\n        const items = onDrag ? onDrag() : {};\n        const blocks = [size];\n        return { width: barWidth, blocks, ...items };\n      },\n      end: (item, monitor) => {\n        const didDrop = monitor.didDrop();\n        if (!didDrop && onFailedDrop) onFailedDrop(item);\n      },\n    };\n  }, [onDrag, barWidth]);\n\n  return (\n    <StaticBlock\n      ref={drag}\n      wrapSvg={wrapSvg}\n      className={className}\n      barWidth={barWidth}\n      scaleX={scaleX}\n      size={size}\n      yShift={yShift}\n      isTop={isTop}\n      disableHover={collected.anythingIsDragging}\n    />\n  );\n};\n","import { useDrag } from \"react-dnd\";\nimport React from \"react\";\nimport { useDrop } from \"react-dnd\";\n\nimport { datasetDndType } from \"../config\";\nimport cn from \"./index.module.css\";\nimport { cx } from \"../../../utils\";\nimport { BLOCK_PADDING, FONT_ASPECT_RATIO } from \"../../../constants\";\n\nconst getXStretch = (barWidth) => barWidth / 5;\nconst getYStretch = (barWidth) => barWidth / 4;\n\nexport const DatasetPlaceholder = ({ barWidth, className, scaleX, onDrop }) => {\n  const [{ isOver }, drop] = useDrop(\n    () => ({\n      accept: datasetDndType,\n      drop: (item) => onDrop(item),\n      collect: (monitor) => ({\n        isOver: monitor.isOver(),\n        item: monitor.getItem(),\n      }),\n    }),\n    [onDrop]\n  );\n\n  const width = barWidth;\n  const xStretch = getXStretch(barWidth);\n  const yStretch = getYStretch(barWidth);\n\n  return (\n    <div ref={drop} className={cn.placeholderContainer}>\n      {isOver ? (\n        <StaticDatasetBlock\n          wrapSvg={true}\n          barWidth={barWidth}\n          scaleX={scaleX}\n          height={barWidth}\n          isTop={true}\n          className={cn.ghostBlock}\n        />\n      ) : (\n        <svg height={yStretch} width={barWidth + xStretch}>\n          <g\n            transform={`translate(${\n              barWidth && scaleX ? scaleX.bandwidth() / 2 - barWidth / 2 : 0\n            }, ${yStretch})`}\n            className={className}\n          >\n            <path\n              className={cx(className)}\n              d={`M0 0 L${width} 0  L${\n                width + xStretch\n              } ${-yStretch} L${xStretch} ${-yStretch} Z`}\n              shapeRendering=\"crispEdges\"\n            />\n          </g>\n        </svg>\n      )}\n    </div>\n  );\n};\n\nconst getTitleFontsize = (barWidth, length) => {\n  const lineLength = Math.min(30, length/4)\n  const fontSize = Math.round((barWidth / lineLength) * FONT_ASPECT_RATIO);\n  return Math.min(fontSize, 12);\n};\n\nexport const StaticDatasetBlock = React.forwardRef(\n  (\n    {\n      disableHover,\n      className,\n      barWidth,\n      scaleX,\n      height: rawHeight,\n      isTop,\n      wrapSvg,\n      dataset,\n    },\n    ref\n  ) => {\n    const width = barWidth || scaleX?.bandwidth();\n    const height = rawHeight - BLOCK_PADDING * 2;\n    const xStretch = getXStretch(barWidth);\n    const yStretch = getYStretch(barWidth);\n\n    const content = (\n      <g\n        ref={ref}\n        transform={`translate(${\n          barWidth && scaleX ? scaleX.bandwidth() / 2 - barWidth / 2 : 0\n        }, ${yStretch})`}\n        className={className}\n        style={disableHover ? {} : { cursor: \"grab\" }}\n      >\n        <rect\n          className={cn.bar}\n          height={height}\n          width={width}\n          shapeRendering=\"crispEdges\"\n        />\n        <path\n          className={cn.rightSide}\n          d={`M${width} 0 L${width} ${height} L${width + xStretch} ${\n            height - yStretch\n          } L${width + xStretch} ${-yStretch} Z`}\n          shapeRendering=\"crispEdges\"\n        />\n        {isTop && (\n          <path\n            className={cn.top}\n            d={`M0 0 L${width} 0  L${\n              width + xStretch\n            } ${-yStretch} L${xStretch} ${-yStretch} Z`}\n            shapeRendering=\"crispEdges\"\n          />\n        )}\n        <foreignObject x=\"0\" y=\"0\" width={width} height={height} style={{overflow: 'visible'}}>\n          <div\n            className={cn.title}\n            style={{\n              fontSize: getTitleFontsize(width, dataset?.title.length) + \"px\",\n            }}\n          >\n            {dataset?.title}\n          </div>\n        </foreignObject>\n      </g>\n    );\n\n    return wrapSvg ? (\n      <svg\n        height={height + yStretch}\n        width={barWidth + xStretch}\n        className={cn.svgWrapper}\n      >\n        {content}\n      </svg>\n    ) : (\n      content\n    );\n  }\n);\n\nexport const DatasetBlock = ({\n  className,\n  barWidth,\n  scaleX,\n  height,\n  isTop,\n  wrapSvg,\n  dataset,\n  onDrag,\n  onFailedDrop,\n}) => {\n  const [collected, drag] = useDrag(() => {\n    return {\n      collect: (monitor) => ({\n        anythingIsDragging: monitor.getItem() !== null,\n      }),\n      type: datasetDndType,\n      item: () => {\n        if (onDrag) onDrag();\n        return { ...dataset, height, width: barWidth };\n      },\n      end: (item, monitor) => {\n        const didDrop = monitor.didDrop();\n        if (!didDrop && onFailedDrop) onFailedDrop(item);\n      },\n    };\n  }, [onDrag, barWidth]);\n\n  return (\n    <StaticDatasetBlock\n      ref={drag}\n      wrapSvg={wrapSvg}\n      className={className}\n      barWidth={barWidth}\n      scaleX={scaleX}\n      height={height}\n      isTop={isTop}\n      dataset={dataset}\n      disableHover={collected.anythingIsDragging}\n    />\n  );\n};\n","var _circle, _circle2, _circle3, _rect, _rect2, _rect3, _rect4, _rect5, _rect6, _rect7, _rect8, _rect9, _rect10, _rect11, _rect12, _rect13, _rect14, _rect15, _rect16;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgVirus(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 35,\n    height: 35,\n    viewBox: \"0 0 14 14\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 6.99857,\n    cy: 6.99991,\n    r: 4.63333,\n    stroke: \"black\"\n  })), _circle2 || (_circle2 = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 7.93125,\n    cy: 6.06663,\n    r: 1.4,\n    fill: \"black\"\n  })), _circle3 || (_circle3 = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 5.59935,\n    cy: 8.39989,\n    r: 0.933333,\n    fill: \"black\"\n  })), _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 5.59961,\n    width: 2.8,\n    height: 0.933333,\n    fill: \"black\"\n  })), _rect2 || (_rect2 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 6.5332,\n    y: 2.80005,\n    width: 2.8,\n    height: 0.933333,\n    transform: \"rotate(-90 6.5332 2.80005)\",\n    fill: \"black\"\n  })), _rect3 || (_rect3 = /*#__PURE__*/React.createElement(\"rect\", {\n    y: 8.40002,\n    width: 2.8,\n    height: 0.933333,\n    transform: \"rotate(-90 0 8.40002)\",\n    fill: \"black\"\n  })), _rect4 || (_rect4 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 2.80078,\n    y: 7.46667,\n    width: 2.8,\n    height: 0.933333,\n    transform: \"rotate(-180 2.80078 7.46667)\",\n    fill: \"black\"\n  })), _rect5 || (_rect5 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 8.40039,\n    y: 14,\n    width: 2.8,\n    height: 0.933333,\n    transform: \"rotate(180 8.40039 14)\",\n    fill: \"black\"\n  })), _rect6 || (_rect6 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 7.4668,\n    y: 11.2,\n    width: 2.8,\n    height: 0.933333,\n    transform: \"rotate(90 7.4668 11.2)\",\n    fill: \"black\"\n  })), _rect7 || (_rect7 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 13.293,\n    y: 11.3132,\n    width: 2.8,\n    height: 0.933333,\n    transform: \"rotate(135 13.293 11.3132)\",\n    fill: \"black\"\n  })), _rect8 || (_rect8 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 10.6523,\n    y: 9.99329,\n    width: 2.8,\n    height: 0.933333,\n    transform: \"rotate(45 10.6523 9.99329)\",\n    fill: \"black\"\n  })), _rect9 || (_rect9 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 2.91394,\n    y: 13.2931,\n    width: 2.8,\n    height: 0.933333,\n    transform: \"rotate(-135 2.91394 13.2931)\",\n    fill: \"black\"\n  })), _rect10 || (_rect10 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 4.23413,\n    y: 10.6533,\n    width: 2.8,\n    height: 0.933333,\n    transform: \"rotate(135 4.23413 10.6533)\",\n    fill: \"black\"\n  })), _rect11 || (_rect11 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 14,\n    y: 5.59998,\n    width: 2.8,\n    height: 0.933333,\n    transform: \"rotate(90 14 5.59998)\",\n    fill: \"black\"\n  })), _rect12 || (_rect12 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 11.1992,\n    y: 6.53333,\n    width: 2.8,\n    height: 0.933333,\n    fill: \"black\"\n  })), _rect13 || (_rect13 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 11.3143,\n    y: 0.93335,\n    width: 2.8,\n    height: 0.933333,\n    transform: \"rotate(45 11.3143 0.93335)\",\n    fill: \"black\"\n  })), _rect14 || (_rect14 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 9.99414,\n    y: 3.57312,\n    width: 2.8,\n    height: 0.933333,\n    transform: \"rotate(-45 9.99414 3.57312)\",\n    fill: \"black\"\n  })), _rect15 || (_rect15 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 0.933716,\n    y: 2.91321,\n    width: 2.8,\n    height: 0.933333,\n    transform: \"rotate(-45 0.933716 2.91321)\",\n    fill: \"black\"\n  })), _rect16 || (_rect16 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 3.57422,\n    y: 4.23315,\n    width: 2.8,\n    height: 0.933333,\n    transform: \"rotate(-135 3.57422 4.23315)\",\n    fill: \"black\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgVirus);\nexport default __webpack_public_path__ + \"static/media/virus.8e0dd785.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2, _path3, _path4, _path5, _path6, _path7, _path8, _path9, _path10, _path11, _path12, _path13, _path14;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgEnergyProduce(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 45,\n    height: 45,\n    viewBox: \"0 0 21 18\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.5 5.99988C10.5 8.95687 10.35 15.2967 9.75 16.9999H11.75\",\n    stroke: \"black\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11 5.99988C11 8.95687 11.15 15.2967 11.75 16.9999H9.75\",\n    stroke: \"black\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.5968 6.3479L10.2894 3.62354L10.5968 0.89917\",\n    stroke: \"black\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.9041 6.3479L11.2115 3.62354L10.9041 0.89917\",\n    stroke: \"black\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.24737 8.78575L8.45229 7.15777L10.9646 6.06225\",\n    stroke: \"black\"\n  })), _path6 || (_path6 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.4009 9.05237L8.91323 7.95685L11.1181 6.32887\",\n    stroke: \"black\"\n  })), _path7 || (_path7 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M15.3139 8.78575L13.109 7.15777L10.5967 6.06225\",\n    stroke: \"black\"\n  })), _path8 || (_path8 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M15.1604 9.05237L12.6481 7.95685L10.4431 6.32887\",\n    stroke: \"black\"\n  })), _path9 || (_path9 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M13.7497 10.4802C13.6209 12.2843 13.7497 14.7326 12.9766 16.6655\",\n    stroke: \"black\",\n    strokeLinecap: \"round\"\n  })), _path10 || (_path10 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M18.2769 10.516C18.2573 10.2405 18.4646 10.0013 18.74 9.98162C19.0155 9.96194 19.2547 10.1693 19.2744 10.4447L18.2769 10.516ZM19.2744 10.4447C19.4088 12.3259 19.082 13.1167 20.0306 16.5318L19.0671 16.7994C18.0828 13.2561 18.4003 12.2429 18.2769 10.516L19.2744 10.4447Z\",\n    fill: \"black\"\n  })), _path11 || (_path11 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M13 15.6909C12.8793 15.7756 12.5199 16.0615 12.5199 16.5865C12.5199 17.1261 12.8996 17.4131 13.0095 17.4886C13.1591 17.5914 13.3153 17.6509 13.4206 17.6859C13.6446 17.7604 13.9154 17.812 14.1861 17.8501C14.7427 17.9283 15.4789 17.9731 16.2699 17.9731C17.0609 17.9731 17.7971 17.9283 18.3536 17.8501C18.6244 17.812 18.8952 17.7604 19.1192 17.6859C19.2245 17.6509 19.3807 17.5914 19.5303 17.4886C19.6402 17.4131 20.0199 17.1261 20.0199 16.5865C20.0199 16.0468 19.6402 15.7598 19.5303 15.6843C19.3807 15.5815 19.2245 15.522 19.1192 15.487C19.0807 15.4743 19.0409 15.4622 19 15.4507V16.5397C19.0131 16.555 19.0199 16.5706 19.0199 16.5865C19.0199 16.7035 18.6498 16.8084 18.0651 16.8793C17.5834 16.9377 16.956 16.9731 16.2699 16.9731C15.5838 16.9731 14.9564 16.9377 14.4747 16.8793C13.9125 16.8112 13.5487 16.7115 13.5215 16.5999H13V15.6909ZM14.0404 17.389C14.0403 17.3889 14.0423 17.3881 14.0467 17.3866C14.0427 17.3882 14.0405 17.389 14.0404 17.389ZM18.4931 17.3866C18.4975 17.3881 18.4995 17.3889 18.4994 17.389C18.4993 17.389 18.4971 17.3882 18.4931 17.3866Z\",\n    fill: \"black\"\n  })), _path12 || (_path12 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M13.2206 10.4434C13.2202 10.4555 13.22 10.4678 13.22 10.4802C13.22 10.893 13.4457 11.166 13.5839 11.2934C13.7237 11.4222 13.8735 11.4992 13.9739 11.544C14.1813 11.6365 14.419 11.6954 14.6351 11.7362C15.0838 11.8208 15.6612 11.8667 16.27 11.8667C16.8787 11.8667 17.4562 11.8208 17.9048 11.7362C18.121 11.6954 18.3586 11.6365 18.5661 11.544C18.6664 11.4992 18.8162 11.4222 18.956 11.2934C19.0943 11.166 19.32 10.893 19.32 10.4802C19.32 10.0673 19.0943 9.79429 18.956 9.66688C18.8162 9.53807 18.6664 9.46109 18.5661 9.41634C18.3586 9.32386 18.121 9.26488 17.9048 9.22412C17.8072 9.2057 17.7034 9.18912 17.5945 9.17444V10.1851C18.0383 10.256 18.32 10.3619 18.32 10.4802C18.32 10.6166 17.945 10.7366 17.3787 10.8054C17.059 10.8442 16.6785 10.8667 16.27 10.8667C15.8615 10.8667 15.4809 10.8442 15.1613 10.8054C14.595 10.7366 14.22 10.6166 14.22 10.4802C14.22 10.4678 14.2231 10.4555 14.2291 10.4434H13.2206Z\",\n    fill: \"black\"\n  })), _path13 || (_path13 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M18 10C17.5023 8.50698 20.9675 7.01396 18.7453 5.42571C18.7254 5.41143 18.7051 5.39534 18.6875 5.37815C18.0367 4.74121 17.4034 3.32214 16.3925 4.38003C16.2293 4.55075 15.9803 4.61839 15.7526 4.55583C14.25 4.14298 14 5.76581 14 6.22906\",\n    stroke: \"black\"\n  })), _path14 || (_path14 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9 12.9999L7 11.4999V12.9999L5 11.4999V12.9999L3.35294 12.4999L2.88235 4.99988H1.94118L1.47059 12.4999H1V16.9999H8.52941\",\n    stroke: \"black\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgEnergyProduce);\nexport default __webpack_public_path__ + \"static/media/energy-produce.94a5b046.svg\";\nexport { ForwardRef as ReactComponent };","var _circle, _circle2, _path, _path2, _path3;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgAgeGroups(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 40,\n    height: 40,\n    viewBox: \"0 0 19 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    r: 1.77241,\n    transform: \"matrix(-1 0 0 1 11.2413 2.97246)\",\n    stroke: \"black\",\n    strokeWidth: 0.8\n  })), _circle2 || (_circle2 = /*#__PURE__*/React.createElement(\"circle\", {\n    r: 1.15172,\n    transform: \"matrix(-1 0 0 1 3.79312 10.3104)\",\n    stroke: \"black\",\n    strokeWidth: 0.8\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M17.0876 11.217L13.8598 6.30752C13.8527 6.29677 13.8436 6.28749 13.8331 6.28018L12.5387 5.38624C12.5029 5.36157 12.4554 5.36276 12.421 5.38919L11.3032 6.24691C11.2688 6.27334 11.2212 6.27453 11.1855 6.24986L9.93158 5.38388C9.89753 5.36036 9.85252 5.36025 9.81835 5.38359L8.12403 6.54086C8.10439 6.55428 8.09018 6.57425 8.08394 6.5972L6.61221 12.0092C6.59782 12.0622 6.62877 12.1168 6.68158 12.1317L7.4493 12.3481C7.50242 12.3631 7.55763 12.3322 7.57266 12.2791L8.92742 7.48957C8.96014 7.37388 9.13169 7.40374 9.1234 7.52368L8.77878 12.5104L9.04881 18.9042C9.05107 18.9578 9.09513 19 9.14872 19H10.4683C10.5203 19 10.5636 18.9602 10.568 18.9084L11.1548 11.9606C11.1651 11.8395 11.3417 11.838 11.354 11.9589L12.0585 18.9101C12.0637 18.9612 12.1067 19 12.158 19H13.3401C13.3945 19 13.4389 18.9565 13.4401 18.9021L13.575 12.5104L13.1921 7.9765C13.1837 7.87756 13.3091 7.82824 13.3704 7.90635L16.3909 11.7555C16.425 11.7991 16.488 11.8066 16.5315 11.7723L17.066 11.3504C17.1067 11.3183 17.1161 11.2604 17.0876 11.217Z\",\n    stroke: \"black\",\n    strokeWidth: 0.8\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M17.7518 12.6158C17.7858 12.2611 17.7108 11.5518 17.138 11.5518C16.5651 11.5518 16.4901 12.2611 16.5242 12.6158V19\",\n    stroke: \"black\",\n    strokeWidth: 0.8\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M2.13268 15.9494H1.11554C1.0546 15.9494 1.00783 15.8954 1.01657 15.8351L1.27284 14.0671C1.40595 13.1489 2.15313 12.4427 3.07745 12.3617L3.57825 12.3177H4.15119L4.48032 12.3502C5.37762 12.4386 6.10478 13.1166 6.25584 14.0055L6.56637 15.8327C6.57674 15.8937 6.5297 15.9494 6.46778 15.9494H5.43831C5.38782 15.9494 5.34526 15.9118 5.33906 15.8617L5.11659 14.061L5.71292 18.8878C5.72029 18.9474 5.67377 19.0001 5.61368 19.0001H4.66372C4.61568 19.0001 4.57442 18.9659 4.56547 18.9187L3.97393 15.799C3.95296 15.6885 3.79368 15.6914 3.77681 15.8027L3.30467 18.9151C3.29726 18.9639 3.25524 19.0001 3.2058 19.0001H2.1109C2.05256 19.0001 2.0066 18.9503 2.01122 18.8922L2.24481 15.9494L2.43359 14.061\",\n    stroke: \"black\",\n    strokeWidth: 0.8\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAgeGroups);\nexport default __webpack_public_path__ + \"static/media/age-groups.e2c4f16b.svg\";\nexport { ForwardRef as ReactComponent };","import { ReactComponent as MigrationIcon } from \"./static-assets/icons/migration.svg\";\nimport { ReactComponent as VirusIcon } from \"./static-assets/icons/virus.svg\";\nimport { ReactComponent as EnergyProduceIcon } from \"./static-assets/icons/energy-produce.svg\";\nimport { ReactComponent as AgeGroupsIcon } from \"./static-assets/icons/age-groups.svg\";\n\nimport data from \"./data.json\";\n\nconst normalGroups = [\n  {\n    title: \"COVID-19 Pandemie\",\n    icon: <VirusIcon />,\n    datasets: [\"2079325172\", \"147222245792\"],\n  },\n  {\n    title: \"Stromerzeugung\",\n    icon: <EnergyProduceIcon />,\n    datasets: [\"1473021857110\", \"201814251184\"],\n  },\n];\n\nconst memoryGroups = [\n  {\n    title: \"Altergruppen\",\n    icon: <AgeGroupsIcon />,\n    datasets: [\"2442339250115\"],\n  },\n  {\n    title: \"Migration\",\n    icon: <MigrationIcon />,\n    datasets: [\"101997053117\"],\n  },\n];\n\nlet groups;\nif (window.location.href.includes(\"?\")) {\n  groups = memoryGroups;\n} else {\n  groups = normalGroups;\n}\n\nexport const datasetGroups = groups.map((group) => ({\n  ...group,\n  datasets: group.datasets.map((id) => data.find((d) => d.id === id)),\n}));\n","import React, { useState } from \"react\";\nimport { datasetGroups } from \"../../../config\";\n\nexport const Context = React.createContext({\n  availableBlocks: null,\n  setAvailableBlocks: null,\n  fields: null,\n  setFields: null,\n  dataset: null,\n  setDataset: null,\n  availableDatasets: null,\n  setAvailableDatasets: null,\n  solution: null,\n  setSolution: null,\n});\n\nexport const ContextProvider = ({ children }) => {\n  const [availableBlocks, setAvailableBlocks] = useState([6, 8, 8]);\n  const [fields, setFields] = useState([[], [], [], [], []]);\n  const [availableDatasets, setAvailableDatasets] = useState(datasetGroups);\n\n  const [dataset, setDataset] = useState();\n  const [solution, setSolution] = useState();\n\n  return (\n    <Context.Provider\n      value={{\n        availableBlocks,\n        setAvailableBlocks,\n        fields,\n        setFields,\n        dataset,\n        setDataset,\n        solution,\n        setSolution,\n        availableDatasets,\n        setAvailableDatasets,\n      }}\n    >\n      {children}\n    </Context.Provider>\n  );\n};\n","import { useContext, useMemo } from \"react\";\nimport { useDrop } from \"react-dnd\";\nimport { BLOCK_PADDING } from \"../../../constants\";\nimport { Block, Placeholder } from \"../Block\";\nimport { blocksDndType } from \"../config\";\nimport { Context } from \"../Context\";\nimport cn from \"./index.module.css\";\n\n/**\n * Renders an array of blocks.\n */\nexport const Bar = ({\n  barWidth,\n  className,\n  blocks,\n  onBlockDrag,\n  onFailedDrop,\n  showTop = true,\n}) => {\n  return blocks.reduce(\n    (prev, block, i) => {\n      const isTop = i === blocks.length - 1;\n      const yShift = prev.yShift + block * barWidth;\n      return {\n        yShift,\n        renderedBlocks: [\n          ...prev.renderedBlocks,\n          <Block\n            isTop={isTop && showTop}\n            key={i}\n            className={className}\n            barWidth={barWidth}\n            size={block}\n            yShift={yShift}\n            onDrag={() => onBlockDrag(i)}\n            onFailedDrop={onFailedDrop}\n          />,\n        ],\n      };\n    },\n    { yShift: -BLOCK_PADDING, renderedBlocks: [] }\n  ).renderedBlocks;\n};\n\nexport const InteractiveBar = ({\n  x,\n  scaleX,\n  scaleY,\n  barWidth,\n  blocks,\n  addBlocks,\n  removeBlocks,\n  children,\n}) => {\n  const { availableBlocks, setAvailableBlocks } = useContext(Context);\n  const [{ item: hoverItem, isOver }, drop] = useDrop(\n    () => ({\n      accept: blocksDndType,\n      drop: (item) => addBlocks(item.blocks),\n      collect: (monitor) => ({\n        isOver: monitor.isOver(),\n        item: monitor.getItem(),\n      }),\n    }),\n    [addBlocks]\n  );\n  const hoverBlocks = hoverItem?.blocks;\n\n  const topY = useMemo(\n    () => blocks.reduce((a, b) => a + b, 0) * barWidth,\n    [barWidth, blocks]\n  );\n\n  const onFailedDrop = (item) => {\n    const droppedBlocks = item.blocks;\n    droppedBlocks.forEach((d) => availableBlocks[Math.floor(d)]++);\n    setAvailableBlocks([...availableBlocks]);\n  };\n\n  return (\n    <g transform={`translate(${scaleX(x)},0)`}>\n      <rect\n        ref={drop}\n        height={scaleY.range()[1]}\n        width={scaleX.paddingInner(0).bandwidth()}\n        fill=\"rgba(0,0,0,0)\"\n      />\n      <g transform={`translate(0,${scaleY(scaleY.domain()[1])})`}>\n        <g\n          transform={`translate(${\n            barWidth && scaleX ? scaleX.bandwidth() / 2 - barWidth / 2 : 0\n          }, -10)`}\n        >\n          <g transform={`translate(0,${-2 * BLOCK_PADDING})`}>\n            {!isOver && blocks.length === 0 && (\n              <Placeholder barWidth={barWidth} />\n            )}\n          </g>\n          <Bar\n            barWidth={barWidth}\n            blocks={blocks}\n            onBlockDrag={removeBlocks}\n            onFailedDrop={onFailedDrop}\n            showTop={!isOver}\n          />\n          {isOver && (\n            <g transform={`translate(0,${-topY})`}>\n              <Bar\n                barWidth={barWidth}\n                blocks={hoverBlocks}\n                onBlockDrag={(i) => removeBlocks(i)}\n                className={cn.ghostBar}\n              />\n            </g>\n          )}\n        </g>\n        <foreignObject\n          x={0}\n          y={0}\n          width={scaleX.bandwidth()}\n          height={200}\n        >\n          {children}\n        </foreignObject>\n      </g>\n    </g>\n  );\n};\n","import { useDragLayer } from \"react-dnd\";\nimport { blocksDndType, datasetDndType } from \"../config\";\nimport cn from \"./index.module.css\";\nimport { StaticDatasetBlock } from \"../DatasetBlock\";\nimport { Bar } from \"../Bar\";\n\nconst layerStyles = {\n  position: \"fixed\",\n  pointerEvents: \"none\",\n  zIndex: 1000,\n  left: 0,\n  top: 0,\n  width: \"100%\",\n  height: \"100%\",\n};\n\nfunction getItemStyles(initialOffset, currentOffset, itemType, item) {\n  if (!initialOffset || !currentOffset) {\n    return {\n      display: \"none\",\n    };\n  }\n  let { x, y } = currentOffset;\n\n  if (itemType === blocksDndType && item.blocks.length > 1) {\n    y = y - item.blocks.slice(1).reduce((a, b) => a + b, 0) * item.width;\n  }\n\n  const transform = `translate(${x}px, ${y}px)`;\n  return {\n    transform,\n    WebkitTransform: transform,\n  };\n}\n\nexport const CustomDragLayer = (props) => {\n  const { itemType, isDragging, item, initialOffset, currentOffset } =\n    useDragLayer((monitor) => ({\n      item: monitor.getItem(),\n      itemType: monitor.getItemType(),\n      initialOffset: monitor.getInitialSourceClientOffset(),\n      currentOffset: monitor.getSourceClientOffset(),\n      isDragging: monitor.isDragging(),\n    }));\n\n  function renderItem() {\n    switch (itemType) {\n      case blocksDndType:\n        const { width, blocks } = item;\n        const height = blocks.reduce((a, b) => a + b, 0) * width + 25;\n        return (\n          <div className={cn.container}>\n            <svg height={height} width={width + 25}>\n              <g transform={`translate(0,${height})`}>\n                <Bar blocks={blocks} barWidth={width} />\n              </g>\n            </svg>\n          </div>\n        );\n      case datasetDndType:\n        return (\n          <StaticDatasetBlock\n            className={cn.container}\n            isTop={true}\n            barWidth={item.width}\n            height={item.height}\n            yShift={-25}\n            wrapSvg={true}\n            dataset={item}\n          />\n        );\n      default:\n        return null;\n    }\n  }\n  if (!isDragging) {\n    document.body.classList.remove(\"grabbing\");\n    return null;\n  }\n\n  document.body.classList.add(\"grabbing\");\n\n  return (\n    <div style={layerStyles}>\n      <div style={getItemStyles(initialOffset, currentOffset, itemType, item)}>\n        {renderItem()}\n      </div>\n    </div>\n  );\n};\n","var _circle, _line, _line2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgCircleCheckMark(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 35,\n    height: 35,\n    viewBox: \"0 0 35 35\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 17.5,\n    cy: 17.5,\n    r: 16.75,\n    stroke: \"black\",\n    strokeWidth: 1.5\n  })), _line || (_line = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 6.83211,\n    y1: 18.2514,\n    x2: 14.4154,\n    y2: 25.8347,\n    stroke: \"black\",\n    strokeWidth: 2\n  })), _line2 || (_line2 = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 13.0014,\n    y1: 25.8344,\n    x2: 28.1681,\n    y2: 10.6677,\n    stroke: \"black\",\n    strokeWidth: 2\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCircleCheckMark);\nexport default __webpack_public_path__ + \"static/media/circle-check-mark.f1b3637e.svg\";\nexport { ForwardRef as ReactComponent };","var _line, _line2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgChevronUp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 8,\n    viewBox: \"0 0 24 8\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _line || (_line = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 12.4472,\n    y1: 0.894427,\n    x2: 0.447214,\n    y2: 6.89443,\n    stroke: \"black\",\n    strokeWidth: 2\n  })), _line2 || (_line2 = /*#__PURE__*/React.createElement(\"line\", {\n    y1: -1,\n    x2: 13.4164,\n    y2: -1,\n    transform: \"matrix(0.894427 0.447214 0.447214 -0.894427 12 0)\",\n    stroke: \"black\",\n    strokeWidth: 2\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgChevronUp);\nexport default __webpack_public_path__ + \"static/media/chevron-up.43cdd991.svg\";\nexport { ForwardRef as ReactComponent };","var _line, _line2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgChevronDown(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 8,\n    viewBox: \"0 0 24 8\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _line || (_line = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 11.5528,\n    y1: 7.10557,\n    x2: 23.5528,\n    y2: 1.10557,\n    stroke: \"black\",\n    strokeWidth: 2\n  })), _line2 || (_line2 = /*#__PURE__*/React.createElement(\"line\", {\n    y1: -1,\n    x2: 13.4164,\n    y2: -1,\n    transform: \"matrix(-0.894427 -0.447214 -0.447214 0.894427 12 8)\",\n    stroke: \"black\",\n    strokeWidth: 2\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgChevronDown);\nexport default __webpack_public_path__ + \"static/media/chevron-down.89bc78bb.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useContext, useEffect, useMemo } from \"react\";\nimport cn from \"./index.module.css\";\nimport { scaleBand } from \"d3-scale\";\n\nimport {\n  cx,\n  fieldsToBlockSums,\n  formatNumberWithSuffix,\n  updateExtent,\n} from \"../../../utils\";\nimport { EMPTY_DATASET, FONT_ASPECT_RATIO } from \"../../../constants\";\n\nimport { Context } from \"../Context\";\nimport { InteractiveBar } from \"../Bar\";\nimport { ReactComponent as CheckMarkIcon } from \"../../../static-assets/icons/circle-check-mark.svg\";\nimport { ReactComponent as ChevronUp } from \"../../../static-assets/icons/chevron-up.svg\";\nimport { ReactComponent as ChevronDown } from \"../../../static-assets/icons/chevron-down.svg\";\n\n\nfunction getMaxFontSizeForWidth(bandwidth, length) {\n  const fontSize = Math.round((bandwidth / length) * FONT_ASPECT_RATIO)\n  return  Math.min(fontSize, 15);\n}\n\nconst Label = ({\n  label,\n  fontSize,\n  correctionFeedback,\n  allCorrect,\n  absoluteValue,\n  unit,\n  labelValueFontSize,\n}) => {\n  // normal label\n  if (correctionFeedback == null)\n    return (\n      <div\n        className={cn.label}\n        style={{\n          fontSize,\n        }}\n      >\n        {label}\n      </div>\n    );\n\n  // label with absolute values\n  if (allCorrect)\n    return (\n      <div className={cn.label}>\n        <div\n          style={{\n            fontSize,\n          }}\n        >\n          {label}\n        </div>\n\n        <div\n          className={cn.labelValue}\n          style={{\n            fontSize: labelValueFontSize,\n          }}\n        >\n          {formatNumberWithSuffix(absoluteValue, true) + \" \" + unit}\n        </div>\n      </div>\n    );\n\n  // label with feedback\n  let feedbackContent = null;\n  const numBlocks = Math.abs(correctionFeedback);\n  if (numBlocks === 0) {\n    feedbackContent = <CheckMarkIcon />;\n  } else {\n    const blocks = Array(numBlocks <= 3 ? numBlocks : 2)\n      .fill(0)\n      .map((d, i) => <div key={i} className={cn.feedbackBlock} />);\n\n    if (correctionFeedback < 0) {\n      feedbackContent = (\n        <div className={cn.feedbackBlocks}>\n          <ChevronUp />\n          {blocks}\n          {numBlocks > 3 && (\n            <div className={cx(cn.openBlock, cn.openBlockBottom)}>\n              {numBlocks}\n            </div>\n          )}\n        </div>\n      );\n    } else if (correctionFeedback > 0) {\n      feedbackContent = (\n        <div className={cn.feedbackBlocks}>\n          {numBlocks > 3 && (\n            <div className={cx(cn.openBlock, cn.openBlockTop)}>\n              <div className={cn.openBlockTopNumber}>{numBlocks}</div>\n            </div>\n          )}\n          {blocks}\n          <ChevronDown />\n        </div>\n      );\n    }\n  }\n\n  return (\n    <div className={cn.feedbackContainer}>\n      <div className={cn.feedbackSide}>{feedbackContent}</div>\n      <div\n        className={cn.feedbackLabel}\n        style={{\n          fontSize,\n        }}\n      >\n        {label}\n      </div>\n    </div>\n  );\n};\n\nexport const InteractiveBars = ({ barWidth, ...props }) => {\n  const {\n    fields,\n    setFields,\n    solution,\n    dataset: rawDataset,\n  } = useContext(Context);\n  const { className, data, width, getX, getY, scaleY, setYExtent } = props;\n  const dataset = rawDataset || EMPTY_DATASET;\n\n  useEffect(() => {\n    if (data) setYExtent((yExtent) => updateExtent(yExtent, getY, data));\n  }, [data, getY, setYExtent]);\n\n  const scaleX = useMemo(() => {\n    return scaleBand()\n      .domain(dataset?.data?.map(getX) || [])\n      .range([0, width])\n      .paddingInner(0.2);\n  }, [dataset?.data, getX, width]);\n\n  const addBlocks = (iField, blocks) => {\n    fields[iField] = fields[iField].concat(blocks);\n    setFields([...fields]);\n  };\n\n  const correctionFeedback = useMemo(() => {\n    if (!solution) return Array(5);\n    return fieldsToBlockSums(fields).map((d, i) => d - solution[i]);\n  }, [fields, solution]);\n\n  const removeBlocks = (iField, iBlock) => {\n    const removedBlocks = fields[iField].slice(iBlock, fields[iField].length);\n    fields[iField] = fields[iField].slice(0, iBlock);\n    setFields([...fields]);\n    return { blocks: removedBlocks };\n  };\n\n  const labelFontsize = useMemo(() => {\n    if (!rawDataset) return;\n    const maxLabelLength = Math.max(...dataset.data.map((d) => d.label.length));\n    return getMaxFontSizeForWidth(\n      scaleX.bandwidth(),\n      Math.min(22, maxLabelLength)\n    );\n  }, [dataset.data, rawDataset, scaleX]);\n\n  const labelValueFontSize = useMemo(() => {\n    if (!rawDataset) return;\n    const maxValue =\n      formatNumberWithSuffix(\n        Math.max(...dataset.data.map((d) => d.value)),\n        true\n      ) +\n      \" \" +\n      dataset.unit;\n    const maxValueLength = maxValue.length + 1;\n    return getMaxFontSizeForWidth(scaleX.bandwidth(), maxValueLength);\n  }, [dataset.data, dataset.unit, rawDataset, scaleX]);\n\n  return (\n    <g>\n      {dataset.data.map((d, i) => (\n        <InteractiveBar\n          key={i}\n          x={d.label}\n          scaleX={scaleX}\n          scaleY={scaleY}\n          barWidth={barWidth}\n          className={className}\n          blocks={fields[i]}\n          addBlocks={(blocks) => addBlocks(i, blocks)}\n          removeBlocks={(iBlock) => removeBlocks(i, iBlock)}\n        >\n          {rawDataset != null && (\n            <Label\n              allCorrect={correctionFeedback.every((d) => d === 0)}\n              key={i}\n              label={d.label}\n              unit={dataset.unit}\n              absoluteValue={d.value}\n              correctionFeedback={correctionFeedback[i]}\n              fontSize={labelFontsize}\n              labelValueFontSize={labelValueFontSize}\n            />\n          )}\n        </InteractiveBar>\n      ))}\n    </g>\n  );\n};\n","import { useContext, useMemo } from \"react\";\nimport { Context } from \"../Context\";\n\nimport cn from \"./index.module.css\";\n\nfunction sum(a, b) {\n  return a + b;\n}\n\nexport const MainDisplay = ({ width }) => {\n  const { dataset, solution, fields } = useContext(Context);\n\n  const progress = useMemo(() => {\n    if (!fields || !solution || !dataset) return 0;\n    const diff = fields\n      .map((d) => d.reduce(sum, 0) * 2) // get num blocks\n      .map((d, i) => d - solution[i])\n      .map(Math.abs)\n      .reduce(sum, 0);\n    const value = Math.max(1 - diff / solution.reduce(sum, 0), 0);\n    return Math.round(value * 100);\n  }, [dataset, fields, solution]);\n\n  let content = \"Wähle einen Datensatz\";\n  if (dataset && !solution) {\n    content = \"Schätze die Daten\";\n  } else if (dataset && solution) {\n    const left = progress - (progress === 100 ? 28 : 22) + \"%\";\n    content = (\n      <div className={cn.feedback}>\n        <div className={cn.progressBar}>\n          <div className={cn.progress} style={{ width: progress + \"%\" }} />\n          <div\n            className={\n              progress < 75 ? cn.progressLabelRight : cn.progressLabelLeft\n            }\n            style={{ left }}\n          >\n            {progress}%\n          </div>\n        </div>\n        {progress !== 100\n          ? \"Korrigiere die Schätzung\"\n          : \"Super, alles richtig!\"}\n      </div>\n    );\n  }\n\n  return (\n    <div className={cn.mainDisplay} style={{ width }}>\n      {content}\n    </div>\n  );\n};\n","import React, { useContext, useMemo } from \"react\";\nimport { scaleLinear } from \"d3-scale\";\nimport { DndProvider } from \"react-dnd\";\nimport MouseBackEnd from \"react-dnd-mouse-backend\";\n\nimport { Chart } from \"../MinimalCharts\";\nimport { Block, Placeholder } from \"./Block\";\nimport { CustomDragLayer } from \"./CustomDragLayer\";\nimport { InteractiveBars } from \"./InteractiveBars\";\nimport { useDimensions } from \"../../hooks/useDimensions\";\nimport { DatasetBlock, DatasetPlaceholder } from \"./DatasetBlock\";\nimport { EMPTY_DATASET } from \"../../constants\";\nimport { Context, ContextProvider } from \"./Context\";\nimport { MainDisplay } from \"./MainDisplay\";\nimport { useWindowWidth } from \"../../hooks/useWindowWidth\";\n\nimport cn from \"./index.module.css\";\nimport { fieldsToBlockSums } from \"../../utils\";\n\nfunction findDataset(availableDatasets, id) {\n  for (const group of availableDatasets) {\n    for (const dataset of group.datasets) {\n      if (dataset.id === id) return dataset;\n    }\n  }\n}\n\nfunction getError(solution, blockSums) {\n  return solution.reduce(\n    (prev, cur, i) => prev + Math.abs(cur - blockSums[i]),\n    0\n  );\n}\n\nfunction findClosestSolution(solutions, fields) {\n  const blockSums = fieldsToBlockSums(fields);\n  return solutions.reduce(\n    (bestSolution, solution) => {\n      const error = getError(solution, blockSums);\n      if (bestSolution.error == null || error < bestSolution.error) {\n        return { error, solution };\n      }\n      return bestSolution;\n    },\n    { solution: null, error: null }\n  ).solution;\n}\n\nconst Content = () => {\n  const [ref, dimensions] = useDimensions();\n  const {\n    availableBlocks,\n    setAvailableBlocks,\n    dataset,\n    setDataset,\n    availableDatasets,\n    setAvailableDatasets,\n    solution,\n    setSolution,\n    fields,\n  } = useContext(Context);\n\n  const height = useMemo(() => dimensions.height - 100, [dimensions.height]);\n  const scaleY = useMemo(\n    () => scaleLinear().domain([9, 0]).range([0, height]).nice(),\n    [height]\n  );\n\n  const windowWidth = useWindowWidth();\n\n  const scaledBlockSize = Math.min(height / 7, dimensions.width / 7);\n\n  const removeAvailableBlock = (i) => {\n    availableBlocks[i] = Math.max(availableBlocks[i] - 1, 0);\n    setAvailableBlocks([...availableBlocks]);\n  };\n\n  const addAvailableBlock = (i) => {\n    availableBlocks[i] = availableBlocks[i] + 1;\n    setAvailableBlocks([...availableBlocks]);\n  };\n\n  const hideDataset = (id) => {\n    const datasetToHide = findDataset(availableDatasets, id);\n    datasetToHide.hidden = true;\n    setAvailableDatasets([...availableDatasets]);\n  };\n\n  const unhideDataset = (id) => {\n    const datasetToHide = findDataset(availableDatasets, id);\n    datasetToHide.hidden = false;\n    setAvailableDatasets([...availableDatasets]);\n  };\n\n  const isMobile = windowWidth <= 768;\n\n  if (isMobile)\n    return (\n      <div className={cn.noMobileContainer}>\n        <div className={cn.noMobileMessage}>\n          Seite nicht verfügbar für mobile Endgeräte oder schmale\n          Browser-Fenster.\n        </div>\n      </div>\n    );\n\n  return (\n    <div className={cn.container}>\n      <div className={cn.leftContainer}>\n        <div className={cn.leftMain}>\n          <div className={cn.selectedDataSetContainer}>\n            {dataset ? (\n              <DatasetBlock\n                isTop={true}\n                barWidth={scaledBlockSize}\n                height={scaledBlockSize}\n                wrapSvg={true}\n                dataset={dataset}\n                onDrag={() => setDataset(null)}\n                onFailedDrop={() => {\n                  unhideDataset(dataset.id);\n                  setSolution(null);\n                }}\n              />\n            ) : (\n              <DatasetPlaceholder\n                className={cn.dataSetPlaceholder}\n                barWidth={scaledBlockSize}\n                onDrop={(item) => {\n                  setDataset(item);\n                }}\n              />\n            )}\n            <MainDisplay width={scaledBlockSize} />\n          </div>\n          <div className={cn.chart} ref={ref}>\n            <Chart\n              getX={(d) => d.label}\n              getY={(d) => d.value}\n              height={height}\n              width={dimensions.width - 50}\n              scaleY={scaleY}\n              data={EMPTY_DATASET.data}\n            >\n              <InteractiveBars barWidth={scaledBlockSize} />\n            </Chart>\n          </div>\n        </div>\n        <button\n          className={cn.button}\n          style={{ visibility: dataset && !solution ? \"visible\" : \"hidden\" }}\n          onClick={() =>\n            setSolution(findClosestSolution(dataset.solutions, fields))\n          }\n        >\n          Zeige mir die Lösung\n        </button>\n      </div>\n\n      <div className={cn.toolsContainer}>\n        <div\n          className={cn.blocks}\n          style={{ height: 3 * scaledBlockSize + \"px\" }}\n        >\n          {availableBlocks.map((d, i) => {\n            const size = Math.pow(2, i - 1);\n            return (\n              <div className={cn.block} key={i}>\n                {d > 0 ? (\n                  <Block\n                    isTop={true}\n                    barWidth={scaledBlockSize}\n                    size={size}\n                    wrapSvg={true}\n                    onDrag={() => removeAvailableBlock(i)}\n                    onFailedDrop={() => addAvailableBlock(i)}\n                  />\n                ) : (\n                  <Placeholder barWidth={scaledBlockSize} wrapSvg={true} />\n                )}\n                {\n                  <div\n                    className={cn.blocksLeftLabel}\n                    style={{\n                      paddingRight: scaledBlockSize / 5,\n                      visibility: d < 4 ? \"visible\" : \"hidden\",\n                    }}\n                  >\n                    {d} übrig\n                  </div>\n                }\n              </div>\n            );\n          })}\n        </div>\n        <CustomDragLayer snapToGrid={false} />\n\n        {availableDatasets.map((group) => (\n          <div>\n            <div className={cn.titleContainer}>\n              <div className={cn.icon}>{group.icon}</div>\n              <div className={cn.groupTitle}>{group.title}</div>\n            </div>\n            <div\n              className={cn.datasets}\n              style={{ minHeight: scaledBlockSize * 2 }}\n            >\n              {group.datasets.map((d) =>\n                d.hidden ? (\n                  <div\n                    className={cn.datasetWithLabel}\n                    style={{ position: \"relative\", top: scaledBlockSize * 1.23 }}\n                  >\n                    <Placeholder barWidth={scaledBlockSize} wrapSvg={true} />\n                  </div>\n                ) : (\n                  <div className={cn.datasetWithLabel}>\n                    <DatasetBlock\n                      key={d.id}\n                      isTop={true}\n                      barWidth={scaledBlockSize}\n                      height={scaledBlockSize}\n                      wrapSvg={true}\n                      dataset={d}\n                      onDrag={() => hideDataset(d.id)}\n                      onFailedDrop={() => unhideDataset(d.id)}\n                    />\n                    <div\n                      className={cn.source}\n                      style={{\n                        paddingRight: scaledBlockSize / 5,\n                        fontSize: scaledBlockSize / 8,\n                      }}\n                    >\n                      Quelle: {d.source}\n                    </div>\n                  </div>\n                )\n              )}\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport const InteractiveBarChart = () => (\n  <ContextProvider>\n    <DndProvider backend={MouseBackEnd}>\n      <Content />\n    </DndProvider>\n  </ContextProvider>\n);\n","import { useEffect, useState, useCallback } from \"react\";\n\nimport debounce from 'debounce';\n\nexport const useDimensions = function (initialSize = {width: null, height: null}) {\n  const [size, setSize] = useState(initialSize);\n  const [node, setNode] = useState(null);\n\n  const ref = useCallback((node) => {\n    setNode(node);\n  }, []);\n\n  useEffect(() => {\n    const handleResize = () => {\n      window.requestAnimationFrame(() => {\n        if (node) {\n          setSize({\n            width: node.clientWidth,\n            height: node.clientHeight,\n          });\n        }\n\n        // TODO: remove\n        window.requestAnimationFrame(() => {\n          if (node) {\n            setSize({\n              width: node.clientWidth,\n              height: node.clientHeight,\n            });\n          }\n        });\n      });\n    };\n    const debouncedHandleResize = debounce(handleResize, 100);\n\n    handleResize();\n\n    window.addEventListener('resize', debouncedHandleResize);\n    window.addEventListener('orientationchange', debouncedHandleResize);\n\n    return () => {\n      window.removeEventListener('resize', debouncedHandleResize);\n      window.removeEventListener('orientationchange', debouncedHandleResize);\n    };\n  }, [node]);\n\n  return [ref, size, node];\n};\n\n\n\n// export const useDimensions = (myRef) => {\n//   const [dimensions, setDimensions] = useState({ width: 0, height: 0 });\n\n//   useEffect(() => {\n//     const getDimensions = () => ({\n//       width: myRef.current?.offsetWidth,\n//       height: myRef.current?.offsetHeight,\n//     });\n\n//     const handleResize = () => {\n//       setDimensions(getDimensions());\n//     };\n\n//     if (myRef.current) {\n//       setDimensions(getDimensions());\n//     }\n\n//     window.addEventListener(\"resize\", handleResize);\n\n//     return () => {\n//       window.removeEventListener(\"resize\", handleResize);\n//     };\n//   }, [myRef]);\n\n//   return dimensions;\n// };\n","import { useEffect, useState } from \"react\";\n\nexport function useWindowWidth() {\n  const [width, setWidth] = useState(window.innerWidth);\n\n  function handleWindowSizeChange() {\n    setWidth(window.innerWidth);\n  }\n  useEffect(() => {\n    window.addEventListener(\"resize\", handleWindowSizeChange);\n    return () => {\n      window.removeEventListener(\"resize\", handleWindowSizeChange);\n    };\n  }, []);\n\n  return width;\n}\n\n","import React from \"react\";\n\nimport cn from \"./app.module.css\";\nimport { InteractiveBarChart } from \"./components/InteractiveBarChart\";\n\nfunction App() {\n  return (\n    <div className={cn.container}>\n      <InteractiveBarChart />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"InteractiveBars_label__3KZTc\",\"feedbackContainer\":\"InteractiveBars_feedbackContainer__3Z6uI\",\"feedbackLabel\":\"InteractiveBars_feedbackLabel__2auH0\",\"feedbackSide\":\"InteractiveBars_feedbackSide__1ZgyS\",\"feedbackBlocks\":\"InteractiveBars_feedbackBlocks__xszh3\",\"feedbackBlock\":\"InteractiveBars_feedbackBlock__2NQFm\",\"openBlock\":\"InteractiveBars_openBlock__7EJfN\",\"openBlockBottom\":\"InteractiveBars_openBlockBottom__11Hc5\",\"openBlockTop\":\"InteractiveBars_openBlockTop__2cnNk\",\"openBlockTopNumber\":\"InteractiveBars_openBlockTopNumber__3YaMb\",\"labelValue\":\"InteractiveBars_labelValue__3L1v8\"};"],"sourceRoot":""}
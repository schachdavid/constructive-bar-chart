{"version":3,"sources":["components/Switcher/index.module.css","app.module.css","components/Swoopy/index.module.css","components/InteractiveBarChart/Block/index.module.css","components/InteractiveBarChart/InteractiveBars/index.module.css","components/ChartPresenter/index.module.css","components/MinimalCharts/Bars/index.module.css","components/MinimalCharts/BoxPlot/index.module.css","components/InteractiveBarChart/index.module.css","components/MinimalCharts/Line/index.module.css","components/MinimalCharts/XAxis/index.module.css","components/MinimalCharts/YAxis/index.module.css","utils.js","components/ChartPresenter/index.js","components/Switcher/index.js","components/MinimalCharts/Chart/index.js","components/MinimalCharts/Bars/index.js","components/MinimalCharts/YAxis/index.js","config.js","components/Swoopy/index.js","components/InteractiveBarChart/config.js","components/InteractiveBarChart/Block/index.js","components/InteractiveBarChart/CustomDragLayer/index.js","components/InteractiveBarChart/InteractiveBars/index.js","components/InteractiveBarChart/index.js","components/InteractiveBarChart/useBlocks.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","cx","classNames","join","updateExtent","extentArr","get","data","newExtent","extent","Math","max","min","ChartPresenter","children","title","className","cn","container","Switcher","options","useState","selected","setSelected","map","d","i","buttonContainer","onClick","label","Chart","getX","getY","customScaleY","scaleY","height","width","margin","yExtent","setYExtent","xExtent","setXExtent","scaleX","useMemo","scaleTime","domain","range","scaleLinear","nice","transform","React","Children","child","cloneElement","props","Bars","barWidth","showTicks","useEffect","scaleBand","paddingInner","mask","ticks","id","x","y","fill","t","stroke","x1","x2","y1","y2","tick","bar","bandwidth","textAnchor","alignmentBaseline","YAxis","globalEmissions","yAxisLabel","xKey","yKey","emission","p1","p2","Swoopy","linePath","mpx","mpy","theta","atan2","PI","c1x","cos","c1y","sin","orient","markerWidth","markerHeight","refX","refY","abs","dndType","Block","scaledSize","size","useDrag","type","item","end","monitor","dropResult","getDropResult","console","log","collect","isDragging","handlerId","getHandlerId","drag","style","ref","block","cursor","layerStyles","position","pointerEvents","zIndex","left","top","getItemStyles","initialOffset","currentOffset","display","WebkitTransform","CustomDragLayer","useDragLayer","getItem","itemType","getItemType","getInitialSourceClientOffset","getSourceClientOffset","document","body","snapToGrid","backgroundColor","boxShadow","padding","yShift","removeItem","Bar","items","addItem","useDrop","accept","drop","isOver","blocks","reduce","prev","renderedBlocks","ghostBar","InteractiveBars","setItems","key","index","slice","Object","keys","InteractiveBarChart","config","rawBlocksize","sum","numDigits","round","toString","length","scaleBlock","pow","scaledBlockSize","closestBorder","curr","blockSize","minY","maxY","useBlocks","DndProvider","backend","MouseBackEnd","toolsContainer","Array","blockHeight","App","switcherContainer","main","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.61c2376f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Switcher_container__2qgde\",\"buttonContainer\":\"Switcher_buttonContainer__tuUOc\",\"selected\":\"Switcher_selected__1qMfi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"app_container__2JKVN\",\"switcherContainer\":\"app_switcherContainer__3HaV7\",\"main\":\"app_main__2Gv1F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Swoopy_container__3rcrv\",\"label\":\"Swoopy_label__2i9fh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Block_container__ZIUlk\",\"block\":\"Block_block__3GIao\",\"label\":\"Block_label__36EjM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bar\":\"InteractiveBars_bar__1EexN\",\"ghostBar\":\"InteractiveBars_ghostBar__29KCi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ChartPresenter_container__3q4HM\",\"title\":\"ChartPresenter_title__2kJKD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bar\":\"Bars_bar__1xEPI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"line\":\"BoxPlot_line__1FYpY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"InteractiveBarChart_container__2QaEl\",\"toolsContainer\":\"InteractiveBarChart_toolsContainer__2qo98\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"line\":\"Line_line__38vbU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tick\":\"XAxis_tick__cA7Dh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tick\":\"YAxis_tick__1TPev\"};","import { extent } from 'd3-array';\n\nexport const cx = (...classNames) => classNames.join(' ');\n\nexport const updateExtent = (extentArr, get, data) => {\n  const newExtent = extent(data, get);\n  return [\n    Math.max(...(extentArr || []), ...newExtent),\n    Math.min(...(extentArr || []), ...newExtent)\n  ];\n};\n","import React from \"react\";\nimport { cx } from \"../../utils\";\nimport cn from \"./index.module.css\";\n\nexport const ChartPresenter = ({ children, title, className }) => {\n  return (\n    <div className={cx(cn.container, className)}>\n      {title && <h2 className={cn.title}>{title}</h2>}\n      {children}\n    </div>\n  );\n};\n","import React, { useState } from \"react\";\nimport cn from \"./index.module.css\";\nimport { cx } from \"../../utils\";\n\nexport const Switcher = ({ options }) => {\n  const [selected, setSelected] = useState(0);\n\n  return (\n    <div className={cn.container}>\n      {options.map((d, i) => (\n        <div\n          key={i}\n          className={\n            selected === i\n              ? cx(cn.selected, cn.buttonContainer)\n              : cx(cn.buttonContainer)\n          }\n        >\n          <button\n            onClick={() => {\n              setSelected(i);\n              if (d.onClick) d.onClick();\n            }}\n          >\n            {d.label}\n          </button>\n        </div>\n      ))}\n    </div>\n  );\n};\n","import React, { useMemo, useState } from \"react\";\nimport { scaleTime, scaleLinear } from \"d3-scale\";\n\nexport const Chart = ({\n  data,\n  getX,\n  getY,\n  scaleY: customScaleY,\n  children,\n  height = 200,\n  width = 600,\n  margin = [30, 30, 45, 70],\n}) => {\n  const [yExtent, setYExtent] = useState([0, 0]);\n  const [xExtent, setXExtent] = useState();\n\n  const scaleX = useMemo(\n    () =>\n      scaleTime()\n        .domain(xExtent || [0, 0])\n        .range([0, width]),\n    [width, xExtent]\n  );\n\n  const scaleY = useMemo(\n    () =>\n      customScaleY ||\n      scaleLinear()\n        .domain(yExtent || [0, 0])\n        .range([0, height])\n        .nice(),\n    [customScaleY, height, yExtent]\n  );\n\n  return (\n    <svg\n      height={margin[0] + height + margin[2]}\n      width={margin[3] + width + margin[1]}\n    >\n      <g transform={`translate(${margin[3]}, ${margin[0]})`}>\n        {React.Children.map(children, (child) =>\n          React.cloneElement(child, {\n            height,\n            width,\n            getX,\n            getY,\n            scaleX,\n            scaleY,\n            xExtent,\n            setXExtent,\n            yExtent,\n            setYExtent,\n            ...child.props,\n          })\n        )}\n        )\n      </g>\n    </svg>\n  );\n};\n","import React, { useEffect, useMemo } from \"react\";\nimport cn from \"./index.module.css\";\nimport { cx, updateExtent } from \"../../../utils\";\nimport { scaleBand } from \"d3-scale\";\n\nexport const Bars = ({ barWidth, ...props }) => {\n  const {\n    className,\n    data,\n    height,\n    width,\n    getX,\n    getY,\n    scaleY,\n    setYExtent,\n    showTicks,\n  } = props;\n\n  useEffect(() => {\n    setYExtent((yExtent) => updateExtent(yExtent, getY, data));\n  }, [data, getY, setYExtent]);\n\n  const scaleX = useMemo(\n    () =>\n      scaleBand().domain(data.map(getX)).range([0, width]).paddingInner(0.2),\n    [data, getX, width]\n  );\n\n  const mask = useMemo(() => {\n    if (!showTicks) return;\n    const ticks = scaleY.ticks(5);\n    return (\n      <mask id=\"tickLines\">\n        <rect x=\"0\" y=\"0\" width={width * 2} height={height * 2} fill=\"white\" />\n        {ticks.map((t, i) => (\n          <g key={t} transform={`translate(0,${scaleY(t)})`}>\n            <line\n              key={i}\n              stroke=\"black\"\n              x1={0}\n              x2={width * 2}\n              y1={0}\n              y2={0}\n              className={cn.tick}\n            />\n          </g>\n        ))}\n      </mask>\n    );\n  }, [height, scaleY, showTicks, width]);\n\n  return (\n    <g>\n      {mask}\n      <g mask={showTicks && \"url(#tickLines)\"}>\n        {data.map((d) => {\n          const height = scaleY.range()[1] - scaleY(getY(d));\n          return (\n            <g\n              key={getX(d)}\n              transform={`translate(${scaleX(getX(d)) + 10},${\n                scaleY(scaleY.domain()[1]) - height\n              })`}\n            >\n              <rect\n                className={cx(cn.bar, className)}\n                height={height}\n                width={barWidth || scaleX.bandwidth()}\n                x={barWidth ? scaleX.bandwidth() / 2 - barWidth / 2 : null}\n              />\n              <text\n                textAnchor=\"middle\"\n                alignmentBaseline=\"central\"\n                x={scaleX.bandwidth() / 2}\n                y={height + 20}\n              >\n                {getX(d)}\n              </text>\n            </g>\n          );\n        })}\n      </g>\n    </g>\n  );\n};\n","import React, { useMemo } from 'react';\nimport cn from './index.module.css';\n\nexport const YAxis = ({\n  className,\n  showTicks = true,\n  ...props\n}) => {\n  const { scaleX, scaleY } = props;\n\n  const ticks = useMemo(() => scaleY.ticks(5), [scaleY]);\n\n  return (\n    <g\n      transform={`translate(${scaleX.range()[0] - 10}, 0)`}\n    >\n      {ticks.map((t) => (\n        <g key={t} transform={`translate(0,${scaleY(t)})`}>\n          <text\n            x={-6}\n            textAnchor='end'\n            alignmentBaseline='central'\n          >\n            {t}\n          </text>\n          {showTicks && (\n            <line\n              x1={0}\n              x2={5}\n              y1={0}\n              y2={0}\n              className={cn.tick}\n            />\n          )}\n        </g>\n      ))}\n    </g>\n  );\n};\n","export const globalEmissions = {\n  title: \"Global annual CO₂ emissions\",\n  yAxisLabel: \"billion tons CO₂\",\n  xKey: 'label',\n  yKey: 'emission',\n  data: [\n    {\n      label: \"1950\",\n      emission: 60,\n    },\n    {\n      label: \"1965\",\n      emission: 110.32,\n    },\n    {\n      label: \"1980\",\n      emission: 190.49,\n    },\n    {\n      label: \"1995\",\n      emission: 230.45,\n    },\n    {\n      label: \"2010\",\n      emission: 330.34,\n    },\n  ],\n};\n","import React, { useMemo } from \"react\";\nimport cn from \"./index.module.css\";\nimport { cx } from \"../../utils\";\n\nconst p1 = { x: 585, y: 180 };\nconst p2 = { x: 505, y: 230 };\n\nexport const Swoopy = ({ className }) => {\n  const linePath = useMemo(() => {\n    // mid-point of line:\n    var mpx = (p2.x + p1.x) * 0.5;\n    var mpy = (p2.y + p1.y) * 0.5;\n\n    // angle of perpendicular to line:\n    var theta = Math.atan2(p2.y - p1.y, p2.x - p1.x) - Math.PI / 2 - 0.2;\n\n    // distance of control point from mid-point of line:\n    var offset = 30;\n\n    // location of control point:\n    var c1x = mpx + offset * Math.cos(theta);\n    var c1y = mpy + offset * Math.sin(theta);\n\n    return `M${p1.x} ${p1.y} Q${c1x} ${c1y} ${p2.x} ${p2.y}`;\n  }, []);\n\n  return (\n    <svg className={cx(className, cn.container)}>\n      <defs>\n        <marker\n          id=\"head\"\n          orient=\"auto\"\n          markerWidth=\"3\"\n          markerHeight=\"4\"\n          refX=\"0.1\"\n          refY=\"2\"\n        >\n          <path d=\"M0,0 V4 L2,2 Z\" fill=\"black\" />\n        </marker>\n      </defs>\n      <path\n        id=\"arrow-line\"\n        stroke-width=\"6\"\n        fill=\"none\"\n        stroke=\"white\"\n        d={linePath}\n      />\n      <text\n        x={p1.x - 12}\n        y={p1.y + (Math.abs(p1.y - p2.y) / 2) * 1.5}\n        className={cn.label}\n      >\n        Drag and Drop\n      </text>\n      <text\n        x={p1.x - 12}\n        y={p1.y + (Math.abs(p1.y - p2.y) / 2) * 2}\n        className={cn.label}\n      >\n        Blocks\n      </text>\n      <path\n        marker-end=\"url(#head)\"\n        id=\"arrow-line\"\n        stroke-width=\"4\"\n        fill=\"none\"\n        stroke=\"white\"\n        d={linePath}\n      />\n      <path\n        id=\"arrow-line\"\n        marker-end=\"url(#head)\"\n        stroke-width=\"2\"\n        fill=\"none\"\n        stroke=\"black\"\n        d={linePath}\n      />\n    </svg>\n  );\n};\n","export const dndType = \"block\";\n","import React from \"react\";\nimport { useDrag } from \"react-dnd\";\nimport { dndType } from \"../config\";\nimport cn from \"./index.module.css\";\n\nexport const Block = ({ scaledSize, height, size, label }) => {\n  const [{ isDragging }, drag] = useDrag(() => ({\n    type: dndType,\n    item: { height, width: scaledSize },\n    end: (item, monitor) => {\n      const dropResult = monitor.getDropResult();\n      console.log(\"dropped\", dropResult);\n    },\n    collect: (monitor) => ({\n      isDragging: monitor.isDragging(),\n      handlerId: monitor.getHandlerId(),\n    }),\n  }));\n\n  return (\n    <div className={cn.container} style={{ height }}>\n      <div\n        ref={drag}\n        className={cn.block}\n        style={{ width: scaledSize, cursor: isDragging ? \"grabbing\" : \"grab\" }}\n      />\n      {label && <span className={cn.label}>{`${size} ${label}`}</span>}\n    </div>\n  );\n};\n","import { useDragLayer } from \"react-dnd\";\nimport { dndType } from \"../config\";\nconst layerStyles = {\n  position: \"fixed\",\n  pointerEvents: \"none\",\n  zIndex: 1000,\n  left: 0,\n  top: 0,\n  width: \"100%\",\n  height: \"100%\",\n};\nfunction getItemStyles(initialOffset, currentOffset) {\n  if (!initialOffset || !currentOffset) {\n    return {\n      display: \"none\",\n    };\n  }\n  let { x, y } = currentOffset;\n\n  const transform = `translate(${x}px, ${y}px)`;\n  return {\n    transform,\n    WebkitTransform: transform,\n  };\n}\nexport const CustomDragLayer = (props) => {\n  const { itemType, isDragging, item, initialOffset, currentOffset } =\n    useDragLayer((monitor) => ({\n      item: monitor.getItem(),\n      itemType: monitor.getItemType(),\n      initialOffset: monitor.getInitialSourceClientOffset(),\n      currentOffset: monitor.getSourceClientOffset(),\n      isDragging: monitor.isDragging(),\n    }));\n  function renderItem() {\n    switch (itemType) {\n      case dndType:\n        return (\n          <div\n            style={{\n              height: item.height,\n              width: item.width,\n              backgroundColor: \"black\",\n              boxShadow: \"5px 5px 15px 5px rgba(0,0,0,0.25)\",\n            }}\n          />\n        );\n      default:\n        return null;\n    }\n  }\n  if (!isDragging) {\n    document.body.style.cursor = \"auto\";\n    return null;\n  }\n\n  document.body.style.cursor = \"grabbing\";\n\n  return (\n    <div style={layerStyles}>\n      <div\n        style={getItemStyles(initialOffset, currentOffset, props.snapToGrid)}\n      >\n        {renderItem()}\n      </div>\n    </div>\n  );\n};\n","import React, { useEffect, useMemo } from \"react\";\nimport cn from \"./index.module.css\";\nimport { scaleBand } from \"d3-scale\";\nimport { useDrop } from \"react-dnd\";\nimport { useDrag } from \"react-dnd\";\n\nimport { cx, updateExtent } from \"../../../utils\";\nimport { dndType } from \"../config\";\n\nconst padding = 0.5;\n\nconst Block = ({ className, barWidth, scaleX, height, yShift, removeItem }) => {\n  const [, drag] = useDrag(() => {\n    return {\n      type: dndType,\n      item: () => {\n        removeItem();\n        return { height, width: barWidth };\n      },\n      end: (item, monitor) => {\n        const dropResult = monitor.getDropResult();\n        console.log(\"dropped\", dropResult);\n      },\n    };\n  }, [removeItem]);\n  return (\n    <rect\n      ref={drag}\n      className={cx(cn.bar, className)}\n      style={{ cursor: \"grab\" }}\n      height={height - padding * 2}\n      width={barWidth || scaleX.bandwidth()}\n      x={barWidth ? scaleX.bandwidth() / 2 - barWidth / 2 : null}\n      y={-yShift - padding}\n    />\n  );\n};\n\nconst Bar = ({\n  x,\n  scaleX,\n  scaleY,\n  barWidth,\n  className,\n  items,\n  addItem,\n  removeItem,\n}) => {\n  const [{ item, isOver }, drop] = useDrop(\n    () => ({\n      accept: dndType,\n      drop: (item) => addItem(item.height, x),\n      collect: (monitor) => ({\n        isOver: monitor.isOver(),\n        item: monitor.getItem(),\n      }),\n    }),\n    [addItem]\n  );\n\n  const blocks = items.reduce(\n    (prev, item, i) => {\n      const yShift = prev.yShift + item;\n      return {\n        yShift,\n        renderedBlocks: [\n          ...prev.renderedBlocks,\n          <Block\n            key={i}\n            className={className}\n            barWidth={barWidth}\n            height={item}\n            scaleX={scaleX}\n            yShift={yShift}\n            removeItem={() => {\n              console.log(\"ren\");\n              removeItem(i, x);\n            }}\n          />,\n        ],\n      };\n    },\n    { yShift: 0, renderedBlocks: [] }\n  );\n\n  return (\n    <g transform={`translate(${scaleX(x) + 10},0)`}>\n      <rect\n        ref={drop}\n        height={scaleY.range()[1]}\n        width={scaleX.paddingInner(0).bandwidth()}\n        fill=\"rgba(0,0,0,0)\"\n      />\n      <g key={x} transform={`translate(0,${scaleY(scaleY.domain()[1])})`}>\n        {blocks.renderedBlocks}\n        {isOver && item && (\n          <rect\n            className={cx(cn.bar, cn.ghostBar, className)}\n            height={item.height - padding * 2}\n            width={barWidth || scaleX.bandwidth()}\n            x={barWidth ? scaleX.bandwidth() / 2 - barWidth / 2 : null}\n            y={-blocks.yShift - padding - item.height}\n          />\n        )}\n        <text\n          textAnchor=\"middle\"\n          alignmentBaseline=\"central\"\n          x={scaleX.bandwidth() / 2}\n          y={20}\n        >\n          {x}\n        </text>\n      </g>\n    </g>\n  );\n};\n\nexport const InteractiveBars = ({ barWidth, items, setItems, ...props }) => {\n  const { className, data, width, getX, getY, scaleY, setYExtent, showTicks } =\n    props;\n\n  useEffect(() => {\n    setYExtent((yExtent) => updateExtent(yExtent, getY, data));\n  }, [data, getY, setYExtent]);\n\n  const scaleX = useMemo(\n    () =>\n      scaleBand().domain(data.map(getX)).range([0, width]).paddingInner(0.2),\n    [data, getX, width]\n  );\n\n  const addItem = (item, key) =>\n    setItems({ ...items, [key]: [...items[key], item] });\n\n  const removeItem = (index, key) => {\n    setItems({\n      ...items,\n      [key]: [...items[key].slice(0, index), ...items[key].slice(index + 1)],\n    });\n  };\n\n  return (\n    <g>\n      {Object.keys(items).map((key) => (\n        <Bar\n          key={key}\n          x={key}\n          scaleX={scaleX}\n          scaleY={scaleY}\n          barWidth={barWidth}\n          className={className}\n          items={items[key]}\n          addItem={addItem}\n          removeItem={removeItem}\n        />\n      ))}\n    </g>\n  );\n};\n","import React, { useState, useMemo, useEffect } from \"react\";\nimport { scaleLinear } from \"d3-scale\";\nimport { DndProvider } from \"react-dnd\";\nimport MouseBackEnd from \"react-dnd-mouse-backend\";\n\nimport cn from \"./index.module.css\";\nimport { ChartPresenter } from \"../ChartPresenter\";\nimport { Swoopy } from \"../Swoopy\";\nimport { Chart, YAxis } from \"../MinimalCharts\";\nimport { useBlocks } from \"./useBlocks\";\nimport { Block } from \"./Block\";\nimport { CustomDragLayer } from \"./CustomDragLayer\";\nimport { InteractiveBars } from \"./InteractiveBars\";\n\nexport const InteractiveBarChart = ({ config }) => {\n  const [items, setItems] = useState(\n    config.data.reduce(\n      (prev, d) => ({ ...prev, [d[config.xKey]]: [] }),\n      {}\n    )\n  );\n\n  const { maxY, minY, blockSize } = useBlocks(config);\n\n  const height = 200;\n  const scaleY = useMemo(\n    () => scaleLinear().domain([maxY, minY]).range([0, height]).nice(),\n    [maxY, minY]\n  );\n\n  const scaledBlockSize = scaleY.range()[1] - scaleY(blockSize);\n  const legendItemPadding = 15;\n\n  return (\n    <DndProvider backend={MouseBackEnd}>\n      <div className={cn.container}>\n        <Swoopy/>\n        <ChartPresenter title={config.title}>\n          <Chart\n            getX={(d) => d[config.xKey]}\n            getY={(d) => d[config.yKey]}\n            height={height}\n            width={400}\n            scaleY={scaleY}\n          >\n            <InteractiveBars\n              data={config.data}\n              barWidth={scaledBlockSize}\n              items={items}\n              setItems={setItems}\n            />\n            <YAxis />\n          </Chart>\n        </ChartPresenter>\n        <ChartPresenter className={cn.toolsContainer}>\n          {\n            [...Array(3).keys()].reduce(\n              (prev, i) => {\n                const blockHeight = scaledBlockSize * Math.pow(2, i - 1);\n                const yShift = prev.yShift + blockHeight + legendItemPadding;\n                return {\n                  yShift,\n                  items: [\n                    ...prev.items,\n                    <Block\n                      height={blockHeight}\n                      size={blockSize * Math.pow(2, i - 1)}\n                      top={`${prev.yShift}px`}\n                      scaledSize={scaledBlockSize}\n                      padding={legendItemPadding}\n                      label={config.yAxisLabel}\n                    />,\n                  ],\n                };\n              },\n              { yShift: 0, items: [] }\n            ).items\n          }\n          <CustomDragLayer snapToGrid={false} />\n        </ChartPresenter>\n      </div>\n    </DndProvider>\n  );\n};\n","import { useMemo } from \"react\";\nimport { extent } from \"d3-array\";\n\nconst AVAILABLE_BLOCKS = 20;\n\nexport function useBlocks(config) {\n  return useMemo(() => {\n    const yExtent = extent(config.data, (d) => d[config.yKey]);\n\n    const sum = config.data.reduce((sum, d) => sum + d[config.yKey], 0);\n    const rawBlocksize = sum / AVAILABLE_BLOCKS;\n    const niceBorders = [1, 2.5, 5, 10];\n    const numDigits = Math.round(rawBlocksize).toString().length;\n    const scaleBlock = 1 / Math.pow(10, numDigits - 1);\n    const scaledBlockSize = rawBlocksize * scaleBlock;\n    const closestBorder = niceBorders.reduce((prev, curr) =>\n      Math.abs(curr - scaledBlockSize) < Math.abs(prev - scaledBlockSize)\n        ? curr\n        : prev\n    );\n\n    // scale back\n    const blockSize = closestBorder * (1 / scaleBlock);\n\n    console.log({rawBlocksize, scaleBlock, scaledBlockSize, closestBorder, blockSize})\n\n    return { minY: 0, maxY: yExtent[1], blockSize };\n  }, [config]);\n}\n","import React, { useState } from \"react\";\nimport { ChartPresenter } from \"./components/ChartPresenter\";\nimport { Switcher } from \"./components/Switcher\";\nimport { Chart, Bars, YAxis } from \"./components/MinimalCharts\";\nimport { globalEmissions } from \"./config\";\nimport cn from \"./app.module.css\";\nimport { InteractiveBarChart } from \"./components/InteractiveBarChart\";\n\nfunction App() {\n  const [selected, setSelected] = useState(0);\n\n  return (\n    <div className={cn.container}>\n      <div className={cn.switcherContainer}>\n        <Switcher\n          options={[\n            { label: \"interactive\", onClick: () => setSelected(0) },\n            { label: \"plane\", onClick: () => setSelected(1) },\n          ]}\n        />\n      </div>\n      <main className={cn.main}>\n        {selected === 0 ? (\n          <InteractiveBarChart config={globalEmissions} />\n        ) : (\n          <ChartPresenter title={globalEmissions.title}>\n            <Chart getX={d => d[globalEmissions.xKey]} getY={d => d[globalEmissions.yKey]}>\n              <Bars data={globalEmissions.data} />\n              <YAxis />\n            </Chart>\n          </ChartPresenter>\n        )}\n      </main>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}